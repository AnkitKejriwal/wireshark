------------------------------------------------------------------------
r18953 | guy | 2006-08-18 17:24:40 -0700 (Fri, 18 Aug 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake

Fix cut-and-pasteo.

------------------------------------------------------------------------
r18954 | guy | 2006-08-18 19:56:16 -0700 (Fri, 18 Aug 2006) | 2 lines
Changed paths:
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c

Squelch a compiler warning.

------------------------------------------------------------------------
r18955 | guy | 2006-08-18 19:58:48 -0700 (Fri, 18 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_sms.c

Define "char_def_alphabet_ext_decode()" with a return type - and define
it as static as it's not used outside this file.

------------------------------------------------------------------------
r18956 | guy | 2006-08-18 20:00:16 -0700 (Fri, 18 Aug 2006) | 2 lines
Changed paths:
   M /trunk/epan/guid-utils.c

Squelch a compiler warning.

------------------------------------------------------------------------
r18957 | guy | 2006-08-18 20:01:15 -0700 (Fri, 18 Aug 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcom.c

Fix some format strings and format string arguments.

------------------------------------------------------------------------
r18958 | guy | 2006-08-18 20:01:53 -0700 (Fri, 18 Aug 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcom-cba-acco.c

Fix some g_warning() calls.

------------------------------------------------------------------------
r18959 | sahlberg | 2006-08-19 02:22:20 -0700 (Sat, 19 Aug 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c
   M /trunk/epan/dissectors/packet-windows-common.h

add some well known rids from s4 security.idl and code to show the name of this rid
when dissecting a security descriptor


------------------------------------------------------------------------
r18960 | etxrab | 2006-08-19 14:42:25 -0700 (Sat, 19 Aug 2006) | 1 line
Changed paths:
   M /trunk/plugins/megaco/packet-megaco.c

Improve parsing a bit and correctly dissect errorDescriptor in Reply.
------------------------------------------------------------------------
r18961 | gerald | 2006-08-19 18:19:56 -0700 (Sat, 19 Aug 2006) | 2 lines
Changed paths:
   M /trunk/airpcap_loader.c

Make sure a preference exists before we try to use it.

------------------------------------------------------------------------
r18964 | sahlberg | 2006-08-19 22:18:10 -0700 (Sat, 19 Aug 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

we have to search for multisegments starting PRIOR to the start of the current semgent   or elsae it will break for the case when one multisegment ends in this segment   there are a few smaller ones completely within this segment  and then another segment starts that spans across future segments.



------------------------------------------------------------------------
r18965 | sahlberg | 2006-08-19 23:00:16 -0700 (Sat, 19 Aug 2006) | 7 lines
Changed paths:
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c

 in LDAP over TCP

use tcp_dissect_pdus() which works    insterad of trying to do the pdu tracking and signalling for reassembly manually.
This makes ldap pdu tracking and reassembly work properly for cases when hosts are streaming lpad over tcp and there is little or none alignlemt of pdus to the start of a segment



------------------------------------------------------------------------
r18966 | etxrab | 2006-08-20 14:18:43 -0700 (Sun, 20 Aug 2006) | 1 line
Changed paths:
   M /trunk/asn1/h245/h245-exp.cnf
   M /trunk/asn1/h245/h245.cnf
   M /trunk/epan/dissectors/packet-h245.c
   M /trunk/epan/dissectors/packet-h245.h
   M /trunk/epan/libwireshark.def
   M /trunk/plugins/megaco/packet-megaco.c

Dissect some more H.245 messages in MEGACO
------------------------------------------------------------------------
r18967 | sahlberg | 2006-08-21 04:26:34 -0700 (Mon, 21 Aug 2006) | 5 lines
Changed paths:
   M /trunk/gtk/scsi_stat.c

make the scsi statistics dialogs easier to understand for scsi novices

explain what the commandsets refer to   SBC==disk  SSC=tape  MMC=cd


------------------------------------------------------------------------
r18968 | martinm | 2006-08-21 04:41:32 -0700 (Mon, 21 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rtcp.c

Use FT_UINT_STRING for TBCP DENY reason-phrase
------------------------------------------------------------------------
r18969 | martinm | 2006-08-21 04:45:37 -0700 (Mon, 21 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/proto.c

Make apply-as-filter strings work for FT_UINT_STRING (rather than using frame[...])
------------------------------------------------------------------------
r18970 | martinm | 2006-08-21 04:52:20 -0700 (Mon, 21 Aug 2006) | 1 line
Changed paths:
   M /trunk/dtds/reginfo.dtd

The xmlns attribute isn't really part of the schema, so probably shouldn't be #REQUIRED (not that the XML dissector currently uses this property)
------------------------------------------------------------------------
r18971 | sahlberg | 2006-08-21 05:41:59 -0700 (Mon, 21 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rpc.c

remove two hashtables and replace with binary trees


------------------------------------------------------------------------
r18972 | sahlberg | 2006-08-21 06:00:55 -0700 (Mon, 21 Aug 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-3com-njack.c
   M /trunk/epan/dissectors/packet-aim-chat.c

move a few arrays off the stack

------------------------------------------------------------------------
r18973 | sahlberg | 2006-08-21 06:05:18 -0700 (Mon, 21 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

get rid of a rotating buffer


------------------------------------------------------------------------
r18974 | sahlberg | 2006-08-21 06:32:07 -0700 (Mon, 21 Aug 2006) | 17 lines
Changed paths:
   M /trunk/asn1/mms/mms-exp.cnf
   M /trunk/asn1/mms/mms.asn
   M /trunk/epan/dissectors/packet-mms.c
   M /trunk/epan/dissectors/packet-mms.h

 from Angel de Juan

make mms bitstrings easier to read


--
Hi, this is my new mms with some changes in order to display some data in
binary instead of hex.

Excuse me because is not a diff from the repository, but I don't know how to
create a diff.

I also have the compiled packet-mms.c and packet-mms.h if you want it only
mail me.



------------------------------------------------------------------------
r18975 | sahlberg | 2006-08-21 06:44:37 -0700 (Mon, 21 Aug 2006) | 3 lines
Changed paths:
   M /trunk/asn1/mms/mms.cnf
   M /trunk/epan/dissectors/packet-mms.c

prettify the MMS dissector by at least putting the pdu name in the info column


------------------------------------------------------------------------
r18976 | gerald | 2006-08-21 07:40:05 -0700 (Mon, 21 Aug 2006) | 5 lines
Changed paths:
   M /trunk/gtk/menu.c

AirPcap fix from Florent Drouin:

Since version 18928, there is a GTK warning at wireshark startup.
I think a #ifdef HAVE_AIRPCAP is missing in ./gtk/menu.c

------------------------------------------------------------------------
r18978 | jmayer | 2006-08-21 09:16:01 -0700 (Mon, 21 Aug 2006) | 1 line
Changed paths:
   M /trunk/manuf

Update manuf list
------------------------------------------------------------------------
r18979 | jmayer | 2006-08-21 09:17:24 -0700 (Mon, 21 Aug 2006) | 1 line
Changed paths:
   M /trunk/FAQ
   M /trunk/help/faq.txt

Update FAQ
------------------------------------------------------------------------
r18981 | gerald | 2006-08-21 12:22:33 -0700 (Mon, 21 Aug 2006) | 2 lines
Changed paths:
   M /trunk/airpcap_loader.c
   M /trunk/airpcap_loader.h
   M /trunk/gtk/airpcap_dlg.c
   M /trunk/gtk/airpcap_dlg.h
   M /trunk/gtk/airpcap_gui_utils.c
   M /trunk/gtk/airpcap_gui_utils.h

Fix up copyrights and whitespace.

------------------------------------------------------------------------
r18984 | etxrab | 2006-08-21 14:19:48 -0700 (Mon, 21 Aug 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssap.c

From Florent Drouin:
This patch allow to change the value of the SSN associated to the bssap dissector.
------------------------------------------------------------------------
r18985 | etxrab | 2006-08-21 14:24:42 -0700 (Mon, 21 Aug 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a.c

From Florent Drouin:
This patch provide a correction for the element "Channel Needed" in the Paging message. and some improvements for the display of AUTH,SRES,RAND etc..

With some further changes to APDU and LSA Identifier dissection.
------------------------------------------------------------------------
r18986 | etxrab | 2006-08-21 14:58:30 -0700 (Mon, 21 Aug 2006) | 2 lines
Changed paths:
   M /trunk/asn1/camel/camel.asn
   M /trunk/asn1/camel/camel.cnf
   M /trunk/asn1/camel/packet-camel-template.c
   M /trunk/epan/dissectors/packet-camel.c

From Florent Drouin:
This patch introduce the decoding of the RP-Cause element in the Release SMS message for Camel.
------------------------------------------------------------------------
r18987 | guy | 2006-08-21 16:06:40 -0700 (Mon, 21 Aug 2006) | 2 lines
Changed paths:
   M /trunk/dumpcap.c

Add to a comment.

------------------------------------------------------------------------
r18988 | guy | 2006-08-21 16:23:22 -0700 (Mon, 21 Aug 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c

Squelch a compiler warning.

------------------------------------------------------------------------
r18989 | guy | 2006-08-21 16:28:19 -0700 (Mon, 21 Aug 2006) | 13 lines
Changed paths:
   M /trunk/capture_loop.c
   M /trunk/capture_opts.c
   M /trunk/tshark.c

Initialize the cfilter field of a capture_opts structure to a null
pointer, so we can determine whether a capture filter has been set or
not.

Use that to check in TShark whether the user specified a filter with
"-f" or not, rather than using the no-longer-set
"capture_filter_specified" variable.

Also, check for multiple "-f" options.

If no capture filter is specified, use a null string, to work around
broken versions of Linux libpcap.

------------------------------------------------------------------------
r18990 | guy | 2006-08-21 16:36:59 -0700 (Mon, 21 Aug 2006) | 3 lines
Changed paths:
   M /trunk/doc/tshark.pod

Indicate in the synopsis that you can put the capture filter at the end
of the command line without "-f".

------------------------------------------------------------------------
r18991 | martinm | 2006-08-22 07:00:18 -0700 (Tue, 22 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-iuup.c

Fix iuup.delta FT_ type mismatch
------------------------------------------------------------------------
r18992 | gerald | 2006-08-22 07:46:51 -0700 (Tue, 22 Aug 2006) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-q2931.c

From Florent Drouin:

  I found a loop in the q2931 dissector, whereas I was dissecting Ranap
  Traces with a bad wireshark configuration.
  Wireshark did crash, after eating all the memory.

Make other loop checks more paranoid.

------------------------------------------------------------------------
r18995 | gerald | 2006-08-22 08:55:42 -0700 (Tue, 22 Aug 2006) | 4 lines
Changed paths:
   M /trunk/plugins/megaco/packet-megaco.c

Bail out of an infinite loop.  Fixes bug 1048.  (This was introduced after
the 0.99.3 trunk was created.)  Remove a couple of static buffers.  Fix up
whitespace.

------------------------------------------------------------------------
r18996 | ulfl | 2006-08-22 12:42:04 -0700 (Tue, 22 Aug 2006) | 1 line
Changed paths:
   M /trunk/plugins/profinet/packet-pn-mrp.c

fix TLB block alignment to be compatible with the current MRP draft. Would be nice if included in the 0.99.3
------------------------------------------------------------------------
r18997 | ulfl | 2006-08-22 12:43:38 -0700 (Tue, 22 Aug 2006) | 1 line
Changed paths:
   M /trunk/plugins/profinet/packet-pn-mrp.c

(slightly) further dissection of the Option (Organizationally specific) block
------------------------------------------------------------------------
r18998 | etxrab | 2006-08-22 12:55:31 -0700 (Tue, 22 Aug 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-epl.c
   A /trunk/epan/dissectors/packet-epl.h
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/etypes.h
   M /trunk/manuf
   M /trunk/wka.tmpl

From David Buechi:
Add support for the ETHERNET Powerlink protocol
------------------------------------------------------------------------
r18999 | etxrab | 2006-08-22 13:39:20 -0700 (Tue, 22 Aug 2006) | 1 line
Changed paths:
   M /trunk/asn1/rrlp/Makefile.nmake
   M /trunk/asn1/umts_rrc/Makefile.nmake
   M /trunk/asn1/umts_rrc_Internode-defs/Makefile.nmake
   M /trunk/asn1/umts_rrc_ies/Makefile.nmake
   M /trunk/asn1/umts_rrc_pdu_def/Makefile.nmake

Complete clean targets
------------------------------------------------------------------------
r19001 | sahlberg | 2006-08-23 00:41:43 -0700 (Wed, 23 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-epl.c

move the include for emem.h so that size_t is defined before emem.h is invoked


------------------------------------------------------------------------
r19002 | sahlberg | 2006-08-23 01:05:28 -0700 (Wed, 23 Aug 2006) | 6 lines
Changed paths:
   M /trunk/asn1/snmp/snmp.cnf
   M /trunk/epan/dissectors/packet-snmp.c

Counter64 should be a FT_UINT64  and not a FT_UINT32


fixes bug 1047


------------------------------------------------------------------------
r19003 | sahlberg | 2006-08-23 02:48:16 -0700 (Wed, 23 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dns.c

testdrive the request/response README and implement request/response matching for DNS


------------------------------------------------------------------------
r19007 | jake | 2006-08-23 08:51:15 -0700 (Wed, 23 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntp.c

From Toralf Foerster (in bug 1044):
Add new primary sources, fix typo. 

------------------------------------------------------------------------
r19008 | ulfl | 2006-08-23 14:19:02 -0700 (Wed, 23 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/capture_file_dlg.c
   M /trunk/gtk/win32-file-dlg.c

fix #927: Win32: delete an existing file, if the user want's to overwrite a file and confirmed this already
------------------------------------------------------------------------
r19012 | gerald | 2006-08-24 09:19:49 -0700 (Thu, 24 Aug 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Add missing files to the distribution.

------------------------------------------------------------------------
r19014 | gerald | 2006-08-24 09:23:32 -0700 (Thu, 24 Aug 2006) | 2 lines
Changed paths:
   M /trunk/config.nmake
   M /trunk/configure.in

Bump the version to 0.99.4.

------------------------------------------------------------------------
r19015 | gerald | 2006-08-24 09:29:49 -0700 (Thu, 24 Aug 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS
   M /trunk/docbook/release-notes.xml

Copy over files from the release.

------------------------------------------------------------------------
r19016 | etxrab | 2006-08-24 10:27:45 -0700 (Thu, 24 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a.c
   M /trunk/epan/dissectors/packet-gsm_a.h
   M /trunk/epan/dissectors/packet-gtp.c

Dissect 'User Location Information' IE and MS Time Zone' IE.
------------------------------------------------------------------------
r19017 | etxrab | 2006-08-24 12:01:01 -0700 (Thu, 24 Aug 2006) | 1 line
Changed paths:
   M /trunk/asn1/Makefile.nmake

Add missing Clean target
------------------------------------------------------------------------
r19018 | etxrab | 2006-08-24 14:15:15 -0700 (Thu, 24 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_map.c

From Jeff Morriss:
 however there's a bug in the ANSI MAP dissector 
SSN preference code - it's deleting an ANSI SSN and adding an ITU one
------------------------------------------------------------------------
r19019 | etxrab | 2006-08-24 14:19:49 -0700 (Thu, 24 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-bssgp.c
   A /trunk/epan/dissectors/packet-bssgp.h
   M /trunk/epan/dissectors/packet-gsm_a.h
   M /trunk/epan/dissectors/packet-gtp.c

BSSGP: Wrong length on IE and preparation to export IE dissection.
GSM_a: Add an if_def
GTP: Update comments
------------------------------------------------------------------------
r19020 | ulfl | 2006-08-24 14:40:53 -0700 (Thu, 24 Aug 2006) | 2 lines
Changed paths:
   M /trunk/gtk/capture_if_dlg.c
   M /trunk/gtk/capture_info_dlg.c
   M /trunk/gtk/compat_macros.h
   M /trunk/gtk/dlg_utils.c
   M /trunk/gtk/help_dlg.c
   M /trunk/gtk/help_dlg.h
   M /trunk/gtk/toolbar.c

capture interfaces dialog: use capture stock icons instead of plain text buttons
capture info dialog: add a "Help" and use stock buttons
------------------------------------------------------------------------
r19021 | ulfl | 2006-08-24 14:44:30 -0700 (Thu, 24 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/capture_if_details_dlg.c

add WinPcap 4.0 beta 1 to the list of known and tested versions
------------------------------------------------------------------------
r19022 | gerald | 2006-08-24 15:05:26 -0700 (Thu, 24 Aug 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

Make sure a string pointer exists before we try to use it.  Fixes bug 1050.

------------------------------------------------------------------------
r19023 | etxrab | 2006-08-24 22:49:37 -0700 (Thu, 24 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-mp2t.c

From Erwin Rol:
this patch adds support for MPEG2 transport stream packets in RTP (type 
MP2T). It currently dissects the headers of the MPEG2 packets
------------------------------------------------------------------------
r19024 | ulfl | 2006-08-25 00:24:58 -0700 (Fri, 25 Aug 2006) | 1 line
Changed paths:
   M /trunk/Makefile.am
   A /trunk/image/toolbar/capture_details_24.xpm

add a missing icon from yesterdays commit
------------------------------------------------------------------------
r19025 | ulfl | 2006-08-25 01:04:38 -0700 (Fri, 25 Aug 2006) | 6 lines
Changed paths:
   M /trunk/gtk/color_dlg.c

ugly workaround for bug #699 (Up/Down buttons don't work properly)

After experimenting a bit, this is a GTK bug IMHO, I don't see a better way to simply use the GTK1.x code for now, which is working ok.

GTK2.4 was working properly, GTK2.6 and 2.8 has this bug, hopefully GTK2.10 will fix it again.

------------------------------------------------------------------------
r19026 | kukosa | 2006-08-25 01:07:26 -0700 (Fri, 25 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dtls.c
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl-utils.h
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/libwireshark.def

new ssl_dissector_add() function which can be called from another dissectors (similar to dissector_add())
------------------------------------------------------------------------
r19027 | guy | 2006-08-25 01:10:35 -0700 (Fri, 25 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rpc.c

If the length of a GSS token is zero, it's a null token, and the opaque
data shouldn't be dissected.

------------------------------------------------------------------------
r19028 | kukosa | 2006-08-25 04:28:00 -0700 (Fri, 25 Aug 2006) | 1 line
Changed paths:
   A /trunk/epan/dissectors/packet-ssl.h

commit forgotten file
------------------------------------------------------------------------
r19029 | ulfl | 2006-08-25 12:13:02 -0700 (Fri, 25 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/dlg_utils.c

fix bug #1057: remove "start" completely
------------------------------------------------------------------------
r19030 | ulfl | 2006-08-25 12:15:55 -0700 (Fri, 25 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/menu.c

don't put "..." in front of a menu item
------------------------------------------------------------------------
r19031 | ulfl | 2006-08-25 12:19:21 -0700 (Fri, 25 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/capture_dlg.c

don't show the "Wireless Settings" button if HAVE_AIRPCAP isn't defined
------------------------------------------------------------------------
r19032 | ulfl | 2006-08-25 13:02:57 -0700 (Fri, 25 Aug 2006) | 1 line
Changed paths:
   M /trunk/docbook/Makefile
   M /trunk/docbook/developer-guide.xml
   M /trunk/docbook/user-guide.xml
   D /trunk/docbook/wsdg_graphics/ethereal-capture-sync.dia
   D /trunk/docbook/wsdg_graphics/ethereal-capture-sync.png
   D /trunk/docbook/wsdg_graphics/ethereal-capture_internals.dia
   D /trunk/docbook/wsdg_graphics/ethereal-capture_internals.png
   D /trunk/docbook/wsdg_graphics/ethereal-function-blocks.dia
   D /trunk/docbook/wsdg_graphics/ethereal-function-blocks.png
   D /trunk/docbook/wsdg_graphics/wireshark-logo.png
   A /trunk/docbook/wsdg_graphics/ws-capture-sync.dia (from /trunk/docbook/wsdg_graphics/ethereal-capture-sync.dia:19024)
   A /trunk/docbook/wsdg_graphics/ws-capture-sync.png (from /trunk/docbook/wsdg_graphics/ethereal-capture-sync.png:19024)
   A /trunk/docbook/wsdg_graphics/ws-capture_internals.dia (from /trunk/docbook/wsdg_graphics/ethereal-capture_internals.dia:19024)
   A /trunk/docbook/wsdg_graphics/ws-capture_internals.png (from /trunk/docbook/wsdg_graphics/ethereal-capture_internals.png:19024)
   A /trunk/docbook/wsdg_graphics/ws-function-blocks.dia (from /trunk/docbook/wsdg_graphics/ethereal-function-blocks.dia:19024)
   A /trunk/docbook/wsdg_graphics/ws-function-blocks.png (from /trunk/docbook/wsdg_graphics/ethereal-function-blocks.png:19024)
   A /trunk/docbook/wsdg_graphics/ws-logo.png (from /trunk/docbook/wsdg_graphics/wireshark-logo.png:19024)
   D /trunk/docbook/wsug_graphics/ethereal-3pane.png
   D /trunk/docbook/wsug_graphics/ethereal-analyze-menu.png
   D /trunk/docbook/wsug_graphics/ethereal-bytes-pane-popup-menu.png
   D /trunk/docbook/wsug_graphics/ethereal-bytes-pane-tabs.png
   D /trunk/docbook/wsug_graphics/ethereal-bytes-pane.png
   D /trunk/docbook/wsug_graphics/ethereal-capture-info.png
   D /trunk/docbook/wsug_graphics/ethereal-capture-interfaces.png
   D /trunk/docbook/wsug_graphics/ethereal-capture-menu.png
   D /trunk/docbook/wsug_graphics/ethereal-capture-options.png
   D /trunk/docbook/wsug_graphics/ethereal-capture-preferences.png
   D /trunk/docbook/wsug_graphics/ethereal-choose-color-rule.png
   D /trunk/docbook/wsug_graphics/ethereal-coloring-rules-dialog.png
   D /trunk/docbook/wsug_graphics/ethereal-decode-as-show.png
   D /trunk/docbook/wsug_graphics/ethereal-decode-as.png
   D /trunk/docbook/wsug_graphics/ethereal-details-pane-popup-menu.png
   D /trunk/docbook/wsug_graphics/ethereal-details-pane.png
   D /trunk/docbook/wsug_graphics/ethereal-display-filter-tcp.png
   D /trunk/docbook/wsug_graphics/ethereal-edit-color-rule-dialog.png
   D /trunk/docbook/wsug_graphics/ethereal-edit-menu.png
   D /trunk/docbook/wsug_graphics/ethereal-empty.png
   D /trunk/docbook/wsug_graphics/ethereal-enabled-protocols.png
   D /trunk/docbook/wsug_graphics/ethereal-error-file-exists.png
   D /trunk/docbook/wsug_graphics/ethereal-error-open.png
   D /trunk/docbook/wsug_graphics/ethereal-export-pdml.png
   D /trunk/docbook/wsug_graphics/ethereal-export-plain.png
   D /trunk/docbook/wsug_graphics/ethereal-export-ps.png
   D /trunk/docbook/wsug_graphics/ethereal-export-psml.png
   D /trunk/docbook/wsug_graphics/ethereal-export-selected.png
   D /trunk/docbook/wsug_graphics/ethereal-file-menu.png
   D /trunk/docbook/wsug_graphics/ethereal-file-set-dialog.png
   D /trunk/docbook/wsug_graphics/ethereal-filter-add-expression.png
   D /trunk/docbook/wsug_graphics/ethereal-filter-toolbar.png
   D /trunk/docbook/wsug_graphics/ethereal-filters-2.png
   D /trunk/docbook/wsug_graphics/ethereal-filters.png
   D /trunk/docbook/wsug_graphics/ethereal-find-packet.png
   D /trunk/docbook/wsug_graphics/ethereal-follow-stream.png
   D /trunk/docbook/wsug_graphics/ethereal-go-menu.png
   D /trunk/docbook/wsug_graphics/ethereal-goto-packet.png
   D /trunk/docbook/wsug_graphics/ethereal-gui-colors-preferences.png
   D /trunk/docbook/wsug_graphics/ethereal-gui-columns-preferences.png
   D /trunk/docbook/wsug_graphics/ethereal-gui-font-preferences.png
   D /trunk/docbook/wsug_graphics/ethereal-gui-layout-preferences.png
   D /trunk/docbook/wsug_graphics/ethereal-gui-preferences.png
   D /trunk/docbook/wsug_graphics/ethereal-help-menu.png
   D /trunk/docbook/wsug_graphics/ethereal-list-pane.png
   D /trunk/docbook/wsug_graphics/ethereal-main-toolbar.png
   D /trunk/docbook/wsug_graphics/ethereal-menu.png
   D /trunk/docbook/wsug_graphics/ethereal-merge.png
   D /trunk/docbook/wsug_graphics/ethereal-nameresolution-preferences.png
   D /trunk/docbook/wsug_graphics/ethereal-open.png
   D /trunk/docbook/wsug_graphics/ethereal-packet-format.png
   D /trunk/docbook/wsug_graphics/ethereal-packet-pane-popup-menu.png
   D /trunk/docbook/wsug_graphics/ethereal-packet-range.png
   D /trunk/docbook/wsug_graphics/ethereal-packet-selected.png
   D /trunk/docbook/wsug_graphics/ethereal-packet-sep-win.png
   D /trunk/docbook/wsug_graphics/ethereal-print.png
   D /trunk/docbook/wsug_graphics/ethereal-printing-preferences.png
   D /trunk/docbook/wsug_graphics/ethereal-save-as.png
   D /trunk/docbook/wsug_graphics/ethereal-statistics-menu.png
   D /trunk/docbook/wsug_graphics/ethereal-stats-conversations.png
   D /trunk/docbook/wsug_graphics/ethereal-stats-endpoints.png
   D /trunk/docbook/wsug_graphics/ethereal-stats-hierarchy.png
   D /trunk/docbook/wsug_graphics/ethereal-stats-iographs.png
   D /trunk/docbook/wsug_graphics/ethereal-stats-srt-dcerpc-filter.png
   D /trunk/docbook/wsug_graphics/ethereal-stats-srt-dcerpc.png
   D /trunk/docbook/wsug_graphics/ethereal-stats-summary.png
   D /trunk/docbook/wsug_graphics/ethereal-statusbar-empty.png
   D /trunk/docbook/wsug_graphics/ethereal-statusbar-loaded.png
   D /trunk/docbook/wsug_graphics/ethereal-statusbar-selected.png
   D /trunk/docbook/wsug_graphics/ethereal-time-reference.png
   D /trunk/docbook/wsug_graphics/ethereal-view-menu.png
   A /trunk/docbook/wsug_graphics/toolbar/stock_apply_20.png
   A /trunk/docbook/wsug_graphics/toolbar/stock_clear_24.png
   D /trunk/docbook/wsug_graphics/wireshark-logo.png
   D /trunk/docbook/wsug_graphics/wireshark-main.png
   A /trunk/docbook/wsug_graphics/ws-analyze-menu.png (from /trunk/docbook/wsug_graphics/ethereal-analyze-menu.png:19024)
   A /trunk/docbook/wsug_graphics/ws-bytes-pane-popup-menu.png (from /trunk/docbook/wsug_graphics/ethereal-bytes-pane-popup-menu.png:19024)
   A /trunk/docbook/wsug_graphics/ws-bytes-pane-tabs.png (from /trunk/docbook/wsug_graphics/ethereal-bytes-pane-tabs.png:19024)
   A /trunk/docbook/wsug_graphics/ws-bytes-pane.png (from /trunk/docbook/wsug_graphics/ethereal-bytes-pane.png:19024)
   A /trunk/docbook/wsug_graphics/ws-capture-info.png (from /trunk/docbook/wsug_graphics/ethereal-capture-info.png:19024)
   A /trunk/docbook/wsug_graphics/ws-capture-interfaces.png (from /trunk/docbook/wsug_graphics/ethereal-capture-interfaces.png:19024)
   A /trunk/docbook/wsug_graphics/ws-capture-menu.png (from /trunk/docbook/wsug_graphics/ethereal-capture-menu.png:19024)
   A /trunk/docbook/wsug_graphics/ws-capture-options.png (from /trunk/docbook/wsug_graphics/ethereal-capture-options.png:19024)
   A /trunk/docbook/wsug_graphics/ws-capture-preferences.png (from /trunk/docbook/wsug_graphics/ethereal-capture-preferences.png:19024)
   A /trunk/docbook/wsug_graphics/ws-choose-color-rule.png (from /trunk/docbook/wsug_graphics/ethereal-choose-color-rule.png:19024)
   A /trunk/docbook/wsug_graphics/ws-coloring-fields.png
   A /trunk/docbook/wsug_graphics/ws-coloring-rules-dialog.png (from /trunk/docbook/wsug_graphics/ethereal-coloring-rules-dialog.png:19024)
   A /trunk/docbook/wsug_graphics/ws-decode-as-show.png (from /trunk/docbook/wsug_graphics/ethereal-decode-as-show.png:19024)
   A /trunk/docbook/wsug_graphics/ws-decode-as.png (from /trunk/docbook/wsug_graphics/ethereal-decode-as.png:19024)
   A /trunk/docbook/wsug_graphics/ws-details-pane-popup-menu.png (from /trunk/docbook/wsug_graphics/ethereal-details-pane-popup-menu.png:19024)
   A /trunk/docbook/wsug_graphics/ws-details-pane.png (from /trunk/docbook/wsug_graphics/ethereal-details-pane.png:19024)
   A /trunk/docbook/wsug_graphics/ws-display-filter-tcp.png (from /trunk/docbook/wsug_graphics/ethereal-display-filter-tcp.png:19024)
   A /trunk/docbook/wsug_graphics/ws-edit-color-rule-dialog.png (from /trunk/docbook/wsug_graphics/ethereal-edit-color-rule-dialog.png:19024)
   A /trunk/docbook/wsug_graphics/ws-edit-menu.png (from /trunk/docbook/wsug_graphics/ethereal-edit-menu.png:19024)
   A /trunk/docbook/wsug_graphics/ws-enabled-protocols.png (from /trunk/docbook/wsug_graphics/ethereal-enabled-protocols.png:19024)
   A /trunk/docbook/wsug_graphics/ws-export-pdml.png (from /trunk/docbook/wsug_graphics/ethereal-export-pdml.png:19024)
   A /trunk/docbook/wsug_graphics/ws-export-plain.png (from /trunk/docbook/wsug_graphics/ethereal-export-plain.png:19024)
   A /trunk/docbook/wsug_graphics/ws-export-ps.png (from /trunk/docbook/wsug_graphics/ethereal-export-ps.png:19024)
   A /trunk/docbook/wsug_graphics/ws-export-psml.png (from /trunk/docbook/wsug_graphics/ethereal-export-psml.png:19024)
   A /trunk/docbook/wsug_graphics/ws-export-selected.png (from /trunk/docbook/wsug_graphics/ethereal-export-selected.png:19024)
   A /trunk/docbook/wsug_graphics/ws-file-menu.png (from /trunk/docbook/wsug_graphics/ethereal-file-menu.png:19024)
   A /trunk/docbook/wsug_graphics/ws-file-set-dialog.png (from /trunk/docbook/wsug_graphics/ethereal-file-set-dialog.png:19024)
   A /trunk/docbook/wsug_graphics/ws-filter-add-expression.png (from /trunk/docbook/wsug_graphics/ethereal-filter-add-expression.png:19024)
   A /trunk/docbook/wsug_graphics/ws-filter-toolbar.png (from /trunk/docbook/wsug_graphics/ethereal-filter-toolbar.png:19024)
   A /trunk/docbook/wsug_graphics/ws-filters.png (from /trunk/docbook/wsug_graphics/ethereal-filters.png:19024)
   A /trunk/docbook/wsug_graphics/ws-find-packet.png (from /trunk/docbook/wsug_graphics/ethereal-find-packet.png:19024)
   A /trunk/docbook/wsug_graphics/ws-follow-stream.png (from /trunk/docbook/wsug_graphics/ethereal-follow-stream.png:19024)
   A /trunk/docbook/wsug_graphics/ws-go-menu.png (from /trunk/docbook/wsug_graphics/ethereal-go-menu.png:19024)
   A /trunk/docbook/wsug_graphics/ws-goto-packet.png (from /trunk/docbook/wsug_graphics/ethereal-goto-packet.png:19024)
   A /trunk/docbook/wsug_graphics/ws-gui-colors-preferences.png (from /trunk/docbook/wsug_graphics/ethereal-gui-colors-preferences.png:19024)
   A /trunk/docbook/wsug_graphics/ws-gui-columns-preferences.png (from /trunk/docbook/wsug_graphics/ethereal-gui-columns-preferences.png:19024)
   A /trunk/docbook/wsug_graphics/ws-gui-font-preferences.png (from /trunk/docbook/wsug_graphics/ethereal-gui-font-preferences.png:19024)
   A /trunk/docbook/wsug_graphics/ws-gui-layout-preferences.png (from /trunk/docbook/wsug_graphics/ethereal-gui-layout-preferences.png:19024)
   A /trunk/docbook/wsug_graphics/ws-gui-preferences.png (from /trunk/docbook/wsug_graphics/ethereal-gui-preferences.png:19024)
   A /trunk/docbook/wsug_graphics/ws-help-menu.png (from /trunk/docbook/wsug_graphics/ethereal-help-menu.png:19024)
   A /trunk/docbook/wsug_graphics/ws-list-pane.png (from /trunk/docbook/wsug_graphics/ethereal-list-pane.png:19024)
   A /trunk/docbook/wsug_graphics/ws-logo.png (from /trunk/docbook/wsug_graphics/wireshark-logo.png:19024)
   A /trunk/docbook/wsug_graphics/ws-main-toolbar.png (from /trunk/docbook/wsug_graphics/ethereal-main-toolbar.png:19024)
   A /trunk/docbook/wsug_graphics/ws-main.png (from /trunk/docbook/wsug_graphics/wireshark-main.png:19024)
   A /trunk/docbook/wsug_graphics/ws-menu.png (from /trunk/docbook/wsug_graphics/ethereal-menu.png:19024)
   A /trunk/docbook/wsug_graphics/ws-merge.png (from /trunk/docbook/wsug_graphics/ethereal-merge.png:19024)
   A /trunk/docbook/wsug_graphics/ws-nameresolution-preferences.png (from /trunk/docbook/wsug_graphics/ethereal-nameresolution-preferences.png:19024)
   A /trunk/docbook/wsug_graphics/ws-open.png (from /trunk/docbook/wsug_graphics/ethereal-open.png:19024)
   A /trunk/docbook/wsug_graphics/ws-packet-format.png (from /trunk/docbook/wsug_graphics/ethereal-packet-format.png:19024)
   A /trunk/docbook/wsug_graphics/ws-packet-pane-popup-menu.png (from /trunk/docbook/wsug_graphics/ethereal-packet-pane-popup-menu.png:19024)
   A /trunk/docbook/wsug_graphics/ws-packet-range.png (from /trunk/docbook/wsug_graphics/ethereal-packet-range.png:19024)
   A /trunk/docbook/wsug_graphics/ws-packet-selected.png (from /trunk/docbook/wsug_graphics/ethereal-packet-selected.png:19024)
   A /trunk/docbook/wsug_graphics/ws-packet-sep-win.png (from /trunk/docbook/wsug_graphics/ethereal-packet-sep-win.png:19024)
   A /trunk/docbook/wsug_graphics/ws-print.png (from /trunk/docbook/wsug_graphics/ethereal-print.png:19024)
   A /trunk/docbook/wsug_graphics/ws-printing-preferences.png (from /trunk/docbook/wsug_graphics/ethereal-printing-preferences.png:19024)
   A /trunk/docbook/wsug_graphics/ws-save-as.png (from /trunk/docbook/wsug_graphics/ethereal-save-as.png:19024)
   A /trunk/docbook/wsug_graphics/ws-statistics-menu.png (from /trunk/docbook/wsug_graphics/ethereal-statistics-menu.png:19024)
   A /trunk/docbook/wsug_graphics/ws-stats-conversations.png (from /trunk/docbook/wsug_graphics/ethereal-stats-conversations.png:19024)
   A /trunk/docbook/wsug_graphics/ws-stats-endpoints.png (from /trunk/docbook/wsug_graphics/ethereal-stats-endpoints.png:19024)
   A /trunk/docbook/wsug_graphics/ws-stats-hierarchy.png (from /trunk/docbook/wsug_graphics/ethereal-stats-hierarchy.png:19024)
   A /trunk/docbook/wsug_graphics/ws-stats-iographs.png (from /trunk/docbook/wsug_graphics/ethereal-stats-iographs.png:19024)
   A /trunk/docbook/wsug_graphics/ws-stats-srt-dcerpc-filter.png (from /trunk/docbook/wsug_graphics/ethereal-stats-srt-dcerpc-filter.png:19024)
   A /trunk/docbook/wsug_graphics/ws-stats-srt-dcerpc.png (from /trunk/docbook/wsug_graphics/ethereal-stats-srt-dcerpc.png:19024)
   A /trunk/docbook/wsug_graphics/ws-stats-summary.png (from /trunk/docbook/wsug_graphics/ethereal-stats-summary.png:19024)
   A /trunk/docbook/wsug_graphics/ws-statusbar-empty.png (from /trunk/docbook/wsug_graphics/ethereal-statusbar-empty.png:19024)
   A /trunk/docbook/wsug_graphics/ws-statusbar-loaded.png (from /trunk/docbook/wsug_graphics/ethereal-statusbar-loaded.png:19024)
   A /trunk/docbook/wsug_graphics/ws-statusbar-selected.png (from /trunk/docbook/wsug_graphics/ethereal-statusbar-selected.png:19024)
   A /trunk/docbook/wsug_graphics/ws-time-reference.png (from /trunk/docbook/wsug_graphics/ethereal-time-reference.png:19024)
   A /trunk/docbook/wsug_graphics/ws-view-menu.png
   M /trunk/docbook/wsug_src/WSUG_chapter_capture.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_use.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_work.xml

User's/Developer's Guide: finish Ethereal to Wireshark transition by "reshoot" *all* screenshots (and rename them) and update some of the menu items that changed in the meantime.
------------------------------------------------------------------------
r19033 | sahlberg | 2006-08-25 14:33:23 -0700 (Fri, 25 Aug 2006) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-eth.c

from Stephen F
ethernet IG/LG bit changes   with minor modifications

(only dissect LG if it is a unicast address
 put a hint what locally administered means in the dissect tree
)
 


------------------------------------------------------------------------
r19034 | sahlberg | 2006-08-25 14:53:37 -0700 (Fri, 25 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-eth.c

remove the code that conditionally dissects LG only if IG is set


------------------------------------------------------------------------
r19035 | guy | 2006-08-25 16:59:25 -0700 (Fri, 25 Aug 2006) | 3 lines
Changed paths:
   M /trunk/image/toolbar/capture_details_16.xpm
   M /trunk/image/toolbar/capture_details_24.xpm

Constify the capture details icons, and get rid of the CRs in
capture_details_24.xpm and give it the appropriate Subversion keywords.

------------------------------------------------------------------------
r19036 | guy | 2006-08-25 17:03:59 -0700 (Fri, 25 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mp2t.c

Don't use %ld for guint64 - use PRIu64.  (Also, don't use %d for guint32
- use %u.)

------------------------------------------------------------------------
r19037 | guy | 2006-08-25 17:05:26 -0700 (Fri, 25 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dtls.c

Fix some compiler warnings (some by getting rid of variables unused if
you don't have GNU TLS).

------------------------------------------------------------------------
r19038 | guy | 2006-08-25 17:06:40 -0700 (Fri, 25 Aug 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Don't define the Aironet/Cisco Wireless OUI ourselves; get it from
<epan/oui.h>.

Fix indentation.

------------------------------------------------------------------------
r19039 | guy | 2006-08-25 17:07:13 -0700 (Fri, 25 Aug 2006) | 2 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Get rid of unused variable.

------------------------------------------------------------------------
r19040 | guy | 2006-08-25 17:08:51 -0700 (Fri, 25 Aug 2006) | 2 lines
Changed paths:
   M /trunk/gtk/firewall_dlg.c

Get rid of aun unused routine.

------------------------------------------------------------------------
r19041 | guy | 2006-08-25 17:12:12 -0700 (Fri, 25 Aug 2006) | 4 lines
Changed paths:
   M /trunk/gtk/capture_if_dlg.c

Clean up indentation.

Only define cap_air_w if we have AirPcap.

------------------------------------------------------------------------
r19042 | sahlberg | 2006-08-26 02:16:38 -0700 (Sat, 26 Aug 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-image-png.c

initial PNG dissector  (Portable Network Graphics)



------------------------------------------------------------------------
r19043 | ulfl | 2006-08-26 04:03:41 -0700 (Sat, 26 Aug 2006) | 1 line
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_work.xml

rework the pop-up menu section
------------------------------------------------------------------------
r19044 | sahlberg | 2006-08-26 04:57:28 -0700 (Sat, 26 Aug 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-image-png.c

fix wrong constant in a valuestring

add two more chunks to be dissected


------------------------------------------------------------------------
r19045 | sahlberg | 2006-08-26 05:26:19 -0700 (Sat, 26 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-image-png.c

two more chunks


------------------------------------------------------------------------
r19046 | gal | 2006-08-26 10:55:21 -0700 (Sat, 26 Aug 2006) | 5 lines
Changed paths:
   M /trunk/epan/filesystem.c
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/file_dlg.c
   M /trunk/gtk/main.c
   A /trunk/gtk/u3.c
   A /trunk/gtk/u3.h
   A /trunk/packaging/u3
   A /trunk/packaging/u3/win32
   A /trunk/packaging/u3/win32/README.txt
   A /trunk/packaging/u3/win32/makefile.nmake
   A /trunk/packaging/u3/win32/manifest.tmpl
   A /trunk/packaging/u3/win32/u3util.c

U3 packaging, utility and Wireshark modifications that allows Wireshark to be run from a U3 USB device. 

For more details see packaging/u3/win32/README.txt


------------------------------------------------------------------------
r19047 | guy | 2006-08-26 11:36:09 -0700 (Sat, 26 Aug 2006) | 10 lines
Changed paths:
   M /trunk/capture_loop.c
   M /trunk/capture_opts.c
   M /trunk/capture_opts.h
   M /trunk/gtk/main.c
   M /trunk/tshark.c

Go back to setting the capture filter to an empty string when we start;
that obviates the need to check for a null capture filter string, and
fixes bug 1055.

Keep track of whether it was set from the command line, though, so we
can catch attempts to set the filter more than once, and attempts to set
it when we're not capturing.

Clean up white space.

------------------------------------------------------------------------
r19048 | gal | 2006-08-27 01:19:55 -0700 (Sun, 27 Aug 2006) | 3 lines
Changed paths:
   M /trunk/asn1/dap/dap-exp.cnf
   M /trunk/asn1/dap/dap.asn
   M /trunk/asn1/dap/dap.cnf
   M /trunk/epan/dissectors/packet-dap.c
   M /trunk/epan/dissectors/packet-dap.h

Support for X.500 strong authentication - used by DAP, DISP, DSP and DOP.


------------------------------------------------------------------------
r19049 | gal | 2006-08-27 01:31:29 -0700 (Sun, 27 Aug 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tpkt.c

Register tpkt as a dissector so subdissectors can register tpkt on ports other than 102.


------------------------------------------------------------------------
r19050 | gal | 2006-08-27 02:03:21 -0700 (Sun, 27 Aug 2006) | 4 lines
Changed paths:
   M /trunk/asn1/acse/acse-exp.cnf
   M /trunk/asn1/acse/acse.asn
   M /trunk/epan/dissectors/packet-acse.c
   M /trunk/epan/dissectors/packet-acse.h

An octet string  form of the ASO-qualifier used by some systems from the days when it was an ANY.
Really just an elaboration of the "...".


------------------------------------------------------------------------
r19051 | ulfl | 2006-08-27 03:41:30 -0700 (Sun, 27 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/capture_if_dlg.c
   M /trunk/gtk/gui_utils.c
   M /trunk/gtk/gui_utils.h

fix a warning by removing now unused code
------------------------------------------------------------------------
r19052 | ulfl | 2006-08-27 04:27:47 -0700 (Sun, 27 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-radius.c
   M /trunk/epan/dissectors/packet-rmcp.c
   M /trunk/epan/guid-utils.c
   M /trunk/gtk/stats_tree_stat.c

squelch some compiler warnings
------------------------------------------------------------------------
r19053 | ulfl | 2006-08-27 04:46:02 -0700 (Sun, 27 Aug 2006) | 1 line
Changed paths:
   M /trunk/doc/README.capture
   M /trunk/docbook/wsug_src/WSUG_app_howitworks.xml
   M /trunk/help/capturing.txt

fix #1063, some leftover typo's: Etheral -> Wireshark
------------------------------------------------------------------------
r19054 | ulfl | 2006-08-27 05:35:26 -0700 (Sun, 27 Aug 2006) | 3 lines
Changed paths:
   M /trunk/gtk/print_mswin.c

fix #707: "It's not possible to print each packet on a new page"

Win32: detect "form feed" char and create a new page in that case
------------------------------------------------------------------------
r19055 | etxrab | 2006-08-27 12:15:20 -0700 (Sun, 27 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/stats_tree_stat.c

Fixa a typo.
------------------------------------------------------------------------
r19056 | etxrab | 2006-08-27 13:30:01 -0700 (Sun, 27 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-bssgp.h
   M /trunk/epan/dissectors/packet-gtp.c

Do some more of the relase 6 stuff.
------------------------------------------------------------------------
r19057 | gerald | 2006-08-27 19:06:28 -0700 (Sun, 27 Aug 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-image-png.c

Don't abort the entire program if we have bad data.  Just mark the
packet as malformed and continue on our merry way.  This should fix
bugs 1064 - 1073.

Fix up whitespace.

------------------------------------------------------------------------
r19058 | etxrab | 2006-08-27 22:32:16 -0700 (Sun, 27 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

More release 6 changes.
------------------------------------------------------------------------
r19059 | kukosa | 2006-08-28 00:05:02 -0700 (Mon, 28 Aug 2006) | 5 lines
Changed paths:
   M /trunk/asn1/h225/packet-h225-template.c
   M /trunk/epan/dissectors/packet-h225.c
   M /trunk/epan/dissectors/packet-q931.c
   M /trunk/epan/dissectors/packet-sip.c
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/dissectors/packet-ssl.h
   M /trunk/epan/libwireshark.def
   M /trunk/epan/proto.c
   M /trunk/epan/proto.h

- new function ssl_dissector_delete()
- register H.225.0 over TLS (configurable port 1300)
- register SIP over TLS (fixed port 5061)
- new function proto_tree_get_root()

------------------------------------------------------------------------
r19060 | gmorris | 2006-08-28 05:24:24 -0700 (Mon, 28 Aug 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-srvloc.c

Fix the decoding of SLP attributes. Open SLP has the ability to pass back multiple attribute types in each reply. Previously the dissector only would dissect address attributes. The change adds parsing of attributes and proper dissection of names and address attributes contained in the same reply payload.

------------------------------------------------------------------------
r19061 | jmayer | 2006-08-28 09:55:03 -0700 (Mon, 28 Aug 2006) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppp.c

Donald White <donald_white@qwest.net>

There is a small bug in the function dissect_ppp() which prevents proper
demuxing of packets.  Patch is attached.



------------------------------------------------------------------------
r19062 | jake | 2006-08-28 12:15:08 -0700 (Mon, 28 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-udp.c

Fix length check for IP packets with options.
------------------------------------------------------------------------
r19063 | ulfl | 2006-08-28 14:11:10 -0700 (Mon, 28 Aug 2006) | 1 line
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_capture.xml

add information about remote traffic capture filter
------------------------------------------------------------------------
r19064 | ulfl | 2006-08-28 14:12:44 -0700 (Mon, 28 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-epm.c

add some more right-hand-side infos of the tower data
------------------------------------------------------------------------
r19065 | ulfl | 2006-08-28 14:13:37 -0700 (Mon, 28 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c

minor format string change
------------------------------------------------------------------------
r19066 | ulfl | 2006-08-28 14:14:36 -0700 (Mon, 28 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dcom.c

add a new this/that flag value
------------------------------------------------------------------------
r19067 | ulfl | 2006-08-28 15:23:18 -0700 (Mon, 28 Aug 2006) | 1 line
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_work.xml

fix a minor typo
------------------------------------------------------------------------
r19068 | gerald | 2006-08-28 15:52:26 -0700 (Mon, 28 Aug 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Fix a typo.

------------------------------------------------------------------------
r19069 | ulfl | 2006-08-28 15:54:12 -0700 (Mon, 28 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/prefs_dlg.c

fix #1061: the logic to search for a specific protocol page was missing the changes of the scrollable window indirection
------------------------------------------------------------------------
r19070 | ulfl | 2006-08-28 17:15:09 -0700 (Mon, 28 Aug 2006) | 5 lines
Changed paths:
   M /trunk/doc/README.developer

from Stephen Fisher:

"I ran doc/README.developer through a spell checker and conservatively 
changed misspelled words.  Attached is a compressed patch with the 
corrections."
------------------------------------------------------------------------
r19071 | gerald | 2006-08-28 19:19:27 -0700 (Mon, 28 Aug 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Add a missing file.

------------------------------------------------------------------------
r19072 | kukosa | 2006-08-29 01:33:52 -0700 (Tue, 29 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl-utils.h
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/dissectors/packet-ssl.h

get rid of few warnings
------------------------------------------------------------------------
r19073 | gmorris | 2006-08-29 01:45:53 -0700 (Tue, 29 Aug 2006) | 114 lines
Changed paths:
   M /trunk/epan/dissectors/ncp2222.py
   M /trunk/epan/dissectors/packet-ncp-int.h
   M /trunk/epan/dissectors/packet-ncp-sss.c
   M /trunk/epan/dissectors/packet-ncp.c
   M /trunk/epan/dissectors/packet-ncp2222.inc

Fixes and updated files:
 
File NCP2222.py:
1. Added NCP service type 0xffff = All types
2. Added evaluation of task states. (following bits are defined. 0=normal, 1 = TTS explicit transaction in progress, 2= TTS implicit transaction in progress, 4 = Shared file ste lock in progress)
3. Reversed the Volume Request Flags, this was backwards (s/b 0=do not return name with volume number, 1=Return name with volume number)
4. Fixed endianess of Creator ID in NetWare Information Struct.
5. File information structure incorrectly defined Current Block Being Decompressed.
6. Logical Lock Status structure incorrectly identified Task Number as a byte. It should be two bytes "word".
7. Fixed endianess of Modifier ID in NetWare Information Struct.
8. Fixed Name Space Information structure (was defined as Name Space, changed to Creator Name Space Number).
9. Fixed Semaphore Structure (Task Number was incorrectly defined as a byte, should be two bytes "word").
10. Added Task structure (Task Number, Task State)
11. Fixed Volume structure (incorrectly defined Volume Name)
12. Added VolumeWithName structure (This struct contains both volume number and volume name)
13. Added error 0x8901 - "No purgable files available"
14. Added error 0x8977 - "Buffer too small" 
15. Added error 0x899c - "No more trustees found"
16. Added error 0x89d9 - "Queue station is not a server"
17. Added NCP connection status values (0=Ok, 1=Bad service connection, 10=File server is down, 40=Broadcast Message Pending)
18. Fixed error definitions for NCP 22/50.
19. Fixed reply packet for NCP 22/52 to properly display volume information depending on reply struct, Volume or volume with name.
20. Fixed error definitions for NCP 22/52
21. Fixed NCP 23/26 reply packet to properly return internet address and display correctly.
22. Fixed NCP 23/27 Reply packet structure to properly repeat connection numbers array.
23. Fixed error definitions for NCP 23/33
24. Fixed NCP 23/114 Request (improperly defined Charge Information as a long value, s/b word)
25. Fixed NCP 23/120 Reply (Improperly defined Job Number as a long value, s/b word)
26. Fixed error definitions for NCP 23/123
27. Fixed error definitions for NCP 23/124
28. Fixed error definitions for NCP 23/131
29. Fixed error definitions for NCP 23/132
30. Fixed error definitions for NCP 23/135
31. Fixed error definitions for NCP 23/137
32. Fixed error definitions for NCP 23/138
33. Fixed NCP 23/205 Reply (User Login Allowed incorrectly defined as long value, s/b byte value)
34. Fixed NCP 23/234 Reply (Reply structure incorrectly defined based on old NCP documentation. Corrected per new docs)
35. Fixed endianess of NCP 23/237 Reply on value Number of Locks.
36. Fixed endianess of NCP 23/238 Reply on value Number of Locks.
37. Fixed error definitions for NCP 30
38. Fixed error definitions for NCP 36/6
39. Fixed error definitions for NCP 86/2
40. Fixed error definitions for NCP 86/3
41. Fixed error definitions for NCP 86/4
42. Fixed error definitions for NCP 86/5
43. Fixed error definitions for NCP 87/1
44. Fixed error definitions for NCP 87/4
45. Fixed error definitions for NCP 87/5
46. Fixed error definitions for NCP 87/10
47. Fixed error definitions for NCP 87/11
48. Fixed error definitions for NCP 87/12
49. Fixed error definitions for NCP 87/17
50. Fixed error definitions for NCP 87/18
51. Fixed NCP 87/20 Reply to properly decode multiple entries returned. This used to only dissect the first entry.
52. Fixed error definitions for NCP 87/30
53. Fixed NCP 87/33 Reply to properly utilize the request flags to dissect the reply packet NetWare Info Struct
54. Fixed error definitions for NCP 87/33
55. Fixed error definitions for NCP 88/22
56. Fixed error definitions for NCP 89/1
57. Fixed error definitions for NCP 89/10
58. Fixed NCP 89/11 Request packet structure
59. Fixed error definitions for NCP 89/11
60. Fixed NCP 89/20 Reply to properly decode multiple entries returned. This used to only dissect the first entry.
61. Fixed error definitions for NCP 104/5
62. Added undefined NCP 112
63. Fixed NCP 123/11 Reply to properly dissect FileName, Name, and copyright.
64. Fixed NCP 123/17 Reply to properly display NCP Network Address values.
65. Fixed NCP 123/24 Reply to properly display Driver Board Name, Driver Short Name, and Dirver Logical Name.
66. Fixed error definitions for NCP 123/33
67. Fixed NCP 123/60 to properly display Set Command Name and Set Command Value.
68. Fixed error definitions for NCP 123/70
69. Fixed NCP 123/71 Reply to utilize new File Information Struct
70. Fixed error definitions for NCP 123/71
71. Fixed error definitions for NCP 123/72
72. Added NCP 123/249
73. Added NCP 123/251
74. Added NCP 123/252
75. Added NCP 123/253
76. Added NCP 123/254
77. Added NCP 123/255
78. Fixed error definitions for NCP 131/1
79. Fixed error definitions for NCP 131/2
 
File packet-ncp2222.inc
1. Added new NCP preference setting to tell Wireshark to decode the NetWare information structure as new or old style.
2. Set default NCP preference settings of echo connection and echo file to FALSE.
3. Added NDS verb 2 Request Flags (0=retain old object, 1=delete old object)
4. Fixed problem where NDS fragmentation could not be reassembled on reload. (fragment array needed to be re-initialized on reload)
5. Fixed NCP service types 1111, 5555, bbbb, and 1111/LIP to reflect real type number. (Was defined as 0xf1, 0xf2, 0xf3, etc... Now defined as 0x1, 0x5, 0xb, etc)
6. Fixed function build_expert_data to parse subtree memory structures to acquire NCP request value records
7. Fix NDS attribute type Boolean to byte value and properly aligned.
8. Fixed attribute zendmSearchOrder to display properly regardless of number or order of value entries.
9. Added check of length of packet prior to attempting to defragment
10. Added for Request packets logic to abort if NCP type isn't found.
11. Added logic to store packet length and then manually decode NCP function 123 based on length.
12. Added logic to manually dissect NCP 87/20 and 89/20 reply packets.
13. NDS resolve name replies with remote entry as the specifier should not store the EID returned (0x00000000)
14. Added logic to trap and echo to expert tap when connection status flags indicate an error.
15. Added manual dissect of NCP 23/26 replies
16. Added logic to Capture the EID returned form NCP 22/51 "Get vol info".
17. Fixed NDS verb 0x2a
18. Fixed NDS verb 0x2b
 
File packet-ncp.c
1. Fix offset for packet signature. (This used to automatically set the offset to account for packet signature if it could not determine the correct NCP type. But for some failed fragment packets, retransmissions, etc, this would be wrongly identified. So first we check to see if we can read a valid type at the offset before we just automatically assume that packet signature is being used)
2. Register the new NCP preference for old/new NetWareInfoStruct.
 
File packet-ncp-int.h
1. Add extern declaration for ncp_newstyle setting.
2. Add length, req_mask, and req_mast_ext to ncp_req_hash_value structure
 
File packet-ncp-sss.c
1. Fix SecretStore request verb Write App Secrets, Client Put Data, to evaluate packet length.

------------------------------------------------------------------------
r19074 | jmayer | 2006-08-29 09:31:00 -0700 (Tue, 29 Aug 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-alcap.c

Florent DROUIN <florent.drouin@alcatel.fr>:

Fix http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1077

------------------------------------------------------------------------
r19075 | jake | 2006-08-29 09:54:39 -0700 (Tue, 29 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/addr_resolv.c

Fix for bug 795: handle CR as line end as well
------------------------------------------------------------------------
r19076 | jmayer | 2006-08-29 13:21:47 -0700 (Tue, 29 Aug 2006) | 4 lines
Changed paths:
   M /trunk/wireshark.desktop

- Update to 0.9.5 (from 0.9.4)
- Remove some unneeded entries
- Add a translation

------------------------------------------------------------------------
r19077 | ulfl | 2006-08-29 14:01:05 -0700 (Tue, 29 Aug 2006) | 1 line
Changed paths:
   M /trunk/test/test-backend.sh
   M /trunk/test/test.sh

use unique variable names to prevent "global variable" side effects -> endless repeating tests of subsections
------------------------------------------------------------------------
r19078 | ulfl | 2006-08-29 14:03:33 -0700 (Tue, 29 Aug 2006) | 1 line
Changed paths:
   M /trunk/fileset.c

fix a minor bug: don't show a single file twice in the fileset dialog
------------------------------------------------------------------------
r19079 | ulfl | 2006-08-29 14:06:36 -0700 (Tue, 29 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/Makefile.am

add u3.h to the distribution files (hopefully this fixes ubuntu buildbot distcheck)
------------------------------------------------------------------------
r19080 | ulfl | 2006-08-29 14:09:32 -0700 (Tue, 29 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/fileset_dlg.c

fix #331: add a scrollbar to the dialog. If a fileset contains more than 18 files, use that scrollbar. These 18 files should be displayable even on a 800*600 display.
------------------------------------------------------------------------
r19081 | ulfl | 2006-08-29 14:12:45 -0700 (Tue, 29 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/Makefile.common

sort the u3.c file into the list alphabetically
------------------------------------------------------------------------
r19082 | etxrab | 2006-08-29 15:18:39 -0700 (Tue, 29 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-clnp.c

Add CLNP over TCP over TPKT dissection. The port number is by default set to 0.
------------------------------------------------------------------------
r19083 | etxrab | 2006-08-29 22:03:16 -0700 (Tue, 29 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-clnp.c

Remove debugcode left by mistake...
------------------------------------------------------------------------
r19084 | kukosa | 2006-08-30 00:31:36 -0700 (Wed, 30 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ssl.c

display Random as a single item with two subitems
------------------------------------------------------------------------
r19085 | martinm | 2006-08-30 02:48:12 -0700 (Wed, 30 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/sip_stat.c
   M /trunk/tap-sipstat.c

Add SIP response code 494 from RFC 3329
------------------------------------------------------------------------
r19086 | kukosa | 2006-08-30 03:03:50 -0700 (Wed, 30 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

flags have only 1 byte
------------------------------------------------------------------------
r19087 | etxrab | 2006-08-30 12:27:54 -0700 (Wed, 30 Aug 2006) | 3 lines
Changed paths:
   D /trunk/plugins/listen_rtp

From Alejandro Vaquero:
- The current "/plugin/listen_rtp" directory should be removed from the 
source
------------------------------------------------------------------------
r19088 | ulfl | 2006-08-30 13:24:49 -0700 (Wed, 30 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/capture_if_dlg.c

seems the height offset 16 seems a bit too small to prevent a scrollbar, using 20 instead
------------------------------------------------------------------------
r19089 | ulfl | 2006-08-30 13:27:12 -0700 (Wed, 30 Aug 2006) | 3 lines
Changed paths:
   M /trunk/gtk/help_dlg.c
   M /trunk/gtk/help_dlg.h
   M /trunk/gtk/print_dlg.c

add some file dialog related help pages

use file related instead of print related help pages for the export dialogs
------------------------------------------------------------------------
r19090 | ulfl | 2006-08-30 13:38:17 -0700 (Wed, 30 Aug 2006) | 3 lines
Changed paths:
   M /trunk/gtk/menu.c

have only one Export/File menu entry for the Win32 dialog, instead of 5 entries leading to exactly the same dialog (with a single setting - the file type - set different)

we might want the Unix/GTK version work the same way, as this is how other programs I know work as well ... and making the documentation easier by desribing only one way how it's working
------------------------------------------------------------------------
r19091 | ulfl | 2006-08-30 13:45:13 -0700 (Wed, 30 Aug 2006) | 5 lines
Changed paths:
   M /trunk/gtk/win32-file-dlg.c

Remove a lot of XXX:
- add help buttons to the dialogs
- the read filter fields are now working (the filter button still not)
- PDML export don't need "Packet Format" settings, grey them out
- fix a bug in the filter fields coloring function (g_alloc space was too small)
------------------------------------------------------------------------
r19092 | etxrab | 2006-08-30 13:47:16 -0700 (Wed, 30 Aug 2006) | 2 lines
Changed paths:
   A /trunk/gtk/codecs
   A /trunk/gtk/codecs/G711a
   A /trunk/gtk/codecs/G711a/G711adecode.c
   A /trunk/gtk/codecs/G711a/G711adecode.h
   A /trunk/gtk/codecs/G711a/G711atable.h
   A /trunk/gtk/codecs/G711u
   A /trunk/gtk/codecs/G711u/G711udecode.c
   A /trunk/gtk/codecs/G711u/G711udecode.h
   A /trunk/gtk/codecs/G711u/G711utable.h
   A /trunk/gtk/codecs/Makefile.am
   A /trunk/gtk/codecs/Makefile.nmake

From Alejandro Vaquero:
The "codecs"
------------------------------------------------------------------------
r19093 | etxrab | 2006-08-30 13:50:37 -0700 (Wed, 30 Aug 2006) | 8 lines
Changed paths:
   A /trunk/gtk/rtp_player.c
   A /trunk/gtk/rtp_player.h

From Alejandro Vaquero:
- Change the "listen_rtp" to "rtp_player"
- Change from a plugin to be part of the core
- By default it will not compile with the rtp_player. In order to 
compile it is necessary to:
       + For windows: uncomment the line 
"PORTAUDIO_DIR=$(WIRESHARK_LIBS)\portaudio_v18_1" in config.nmake
       + For linux: using the "--with-portaudio=yes"
------------------------------------------------------------------------
r19094 | etxrab | 2006-08-30 14:51:31 -0700 (Wed, 30 Aug 2006) | 8 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/Makefile.nmake
   M /trunk/acinclude.m4
   M /trunk/config.h.win32
   M /trunk/config.nmake
   M /trunk/configure.in
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/Makefile.nmake
   M /trunk/gtk/voip_calls.c
   M /trunk/gtk/voip_calls_dlg.c
   M /trunk/tools/win32-setup.sh

From Alejandro Vaquero:
- Change the "listen_rtp" to "rtp_player"
- Change from a plugin to be part of the core
- By default it will not compile with the rtp_player. In order to 
compile it is necessary to:
       + For windows: uncomment the line 
"PORTAUDIO_DIR=$(WIRESHARK_LIBS)\portaudio_v18_1" in config.nmake
       + For linux: using the "--with-portaudio=yes"
------------------------------------------------------------------------
r19095 | ulfl | 2006-08-30 15:26:34 -0700 (Wed, 30 Aug 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

fix a suspected typo of the portaudio commit
------------------------------------------------------------------------
r19096 | ulfl | 2006-08-30 16:25:15 -0700 (Wed, 30 Aug 2006) | 1 line
Changed paths:
   M /trunk/packaging/nsis/Makefile.nmake
   M /trunk/packaging/nsis/wireshark.nsi

remove the MAKENSIS_MODERN_UI, as the modern UI of NSIS is very stable now so there's no need for this setting any longer (removing some unnecessary complexity)
------------------------------------------------------------------------
r19097 | ulfl | 2006-08-30 16:27:37 -0700 (Wed, 30 Aug 2006) | 1 line
Changed paths:
   M /trunk/config.nmake

 remove the MAKENSIS_MODERN_UI, as the modern UI of NSIS is very stable now so there's no need for this setting any longer (removing some unnecessary complexity)
------------------------------------------------------------------------
r19098 | ulfl | 2006-08-30 18:50:11 -0700 (Wed, 30 Aug 2006) | 3 lines
Changed paths:
   M /trunk/config.nmake

a huge redesign of the settings in config.nmake

most changes are related to comments and the sequence of the settings, so by comparing the old and the new file, any merge conflicts will be hopefully easily resolved at least manually.
------------------------------------------------------------------------
r19099 | jake | 2006-08-30 23:58:29 -0700 (Wed, 30 Aug 2006) | 1 line
Changed paths:
   M /trunk/gtk/codecs/Makefile.am

Remove trailing backslash from CFLAGS
------------------------------------------------------------------------
r19100 | sahlberg | 2006-08-31 02:37:02 -0700 (Thu, 31 Aug 2006) | 4 lines
Changed paths:
   M /trunk/gtk/codecs/Makefile.am

the commands for a rule in a amkefile must in classical makefiles start with a TAB not with spaces.



------------------------------------------------------------------------
r19101 | sahlberg | 2006-08-31 05:13:12 -0700 (Thu, 31 Aug 2006) | 12 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/gtk/codecs/Makefile.am

dont include config.nmake in the codecs makefile    it appears it is not needed


dont link with libcodec.a
1, this should be a shared library not a static one?
2, its not built on unix so it is missing


making unix/linux build work again



------------------------------------------------------------------------
r19102 | jmayer | 2006-08-31 06:12:09 -0700 (Thu, 31 Aug 2006) | 1 line
Changed paths:
   M /trunk/Makefile.am

don't recycle ethereal-icons
------------------------------------------------------------------------
r19103 | jmayer | 2006-08-31 06:14:48 -0700 (Thu, 31 Aug 2006) | 5 lines
Changed paths:
   M /trunk/epan/Makefile.am
   M /trunk/epan/dissectors/Makefile.am

Albert Chin:

Fix http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1078


------------------------------------------------------------------------
r19104 | ulfl | 2006-08-31 15:56:38 -0700 (Thu, 31 Aug 2006) | 2 lines
Changed paths:
   M /trunk/epan/expert.c
   M /trunk/epan/expert.h
   M /trunk/epan/libwireshark.def
   M /trunk/epan/packet.c
   M /trunk/gtk/expert_comp_table.c
   M /trunk/gtk/expert_dlg.c

move value_strings from expert_dialogs into expert.c to remove duplicates
keep the highest severity level of the current file (experimental)
------------------------------------------------------------------------
r19105 | ulfl | 2006-08-31 15:58:22 -0700 (Thu, 31 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-icq.c

use an expert_info instead of an fprintf to show an undecoded message (fprintf won't work on windows as usually no console available)
------------------------------------------------------------------------
r19106 | ulfl | 2006-08-31 16:00:44 -0700 (Thu, 31 Aug 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

mark the "short segment" message field as generated and add an expert_info to it
------------------------------------------------------------------------
r19107 | jmayer | 2006-08-31 21:26:53 -0700 (Thu, 31 Aug 2006) | 7 lines
Changed paths:
   M /trunk/gtk/codecs
   M /trunk/gtk/codecs/Makefile.am

- Add svn:ignore
- Replace the completely wrong Makefile.am (was a copy of makefile.nmake)
  by the version the author sent. As I needed to retrieve it from the ML
  archives, it may be different from the originally sent version. If
  someone still has the original version in his inbox, please send it to
  me.

------------------------------------------------------------------------
r19108 | etxrab | 2006-09-01 09:17:48 -0700 (Fri, 01 Sep 2006) | 2 lines
Changed paths:
   M /trunk/asn1/camel/packet-camel-template.c
   M /trunk/epan/dissectors/packet-camel.c

From Florent Drouin:
patch to implement the decoding of the GPRS reference. The specific oid for the CAP-GPRS-ReferenceNumber is attached to a decoding function in the camel module.
------------------------------------------------------------------------
r19110 | sahlberg | 2006-09-01 17:17:35 -0700 (Fri, 01 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gssapi.c

always create a conversation for gssapi

we will need a conversation in more places once we start adding reassembly of gss-krb blobs that span multiple pdus (smb/sessionsetup)



------------------------------------------------------------------------
r19111 | sahlberg | 2006-09-01 17:24:31 -0700 (Fri, 01 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gssapi.c

remove a comment with dead code
remove three pointless volatile declarations


------------------------------------------------------------------------
r19112 | sahlberg | 2006-09-01 17:43:19 -0700 (Fri, 01 Sep 2006) | 18 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gssapi.c

resolve the oid to a variable before we check it in the conditional so that
we can add code to check that it looks sane (for better heuristics) when
we start adding GSS-KRB reassembly.

we need this for some transports such as SMB/SessionSetup that will transport GSS-KRB blobs inside multiple PDUs (multiple different SMB/SessionSetups) so we can reassemble the blobs before decoding them.


this probably only happens for SMB/SessionSetup   but the design of that command is so "nice" that you can not tell whether the blob is fragmented or not or how big it is supposed to be by looking at the SMB layer itself, one needs to know the BER length field for the BER APPLICATION tag. :-(

to make things worse, the only way match multiple such fragments together one will need not just the fragments from the SessionSetup requests  but also the UID that is returned in the response to the initial request.
perverse design.


lets assume that there will almost never be multiple sessionsetups on the same tcp session in real traces    so to make things easier just ignore the UID for now when reassembling. (well reassembly is not added yet but will be)




------------------------------------------------------------------------
r19113 | sahlberg | 2006-09-01 19:03:26 -0700 (Fri, 01 Sep 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gssapi.c

break out the handling of conversation specific data so that we will always have one such struct (and not an value pointer to an oid struct)
so that it is easier to attach other useage to the conversation specific state



------------------------------------------------------------------------
r19114 | guy | 2006-09-01 23:36:42 -0700 (Fri, 01 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c

Add brackets to squelch a compiler warning.

Fix indentation.

------------------------------------------------------------------------
r19115 | guy | 2006-09-01 23:38:21 -0700 (Fri, 01 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wtls.c

Add a common routine for adding session IDs.  Have it handle session IDs
from 1 to 8 bytes, and not only handle 0-byte session IDs as special,
have it handle session IDs > 8 bytes as special as well.

------------------------------------------------------------------------
r19116 | guy | 2006-09-01 23:39:09 -0700 (Fri, 01 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/filesystem.c

Clean up indentation, etc.

------------------------------------------------------------------------
r19117 | guy | 2006-09-01 23:39:43 -0700 (Fri, 01 Sep 2006) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/Makefile.nmake
   A /trunk/codecs (from /trunk/gtk/codecs:19108)
   M /trunk/configure.in
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/Makefile.nmake
   D /trunk/gtk/codecs
   M /trunk/gtk/rtp_player.c

Move the codecs into a top-level "codecs" subdirectory; there's no
guarantee that all programs using the codecs will necessarily be using
GTK+.

------------------------------------------------------------------------
r19118 | guy | 2006-09-02 00:18:16 -0700 (Sat, 02 Sep 2006) | 9 lines
Changed paths:
   M /trunk/codecs/G711a/G711adecode.h
   M /trunk/codecs/G711u/G711udecode.h
   M /trunk/gtk/rtp_player.c
   M /trunk/gtk/rtp_player.h

Squelch compiler warnings, and get rid of unused variables and
declarations.

Define functions with no arguments as such.

Clean up white space.

Declare tables in the codec .h files.

------------------------------------------------------------------------
r19119 | sahlberg | 2006-09-02 04:46:15 -0700 (Sat, 02 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gssapi.c

add primitive reassembly of gssapi

this will allow reassembly of gssapi blobs that span multiple smb/sessionsetup command pdus



------------------------------------------------------------------------
r19120 | etxrab | 2006-09-02 07:18:47 -0700 (Sat, 02 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/codecs/Makefile.nmake
   M /trunk/gtk/Makefile.nmake

Fix path and name.
------------------------------------------------------------------------
r19121 | etxrab | 2006-09-02 08:50:24 -0700 (Sat, 02 Sep 2006) | 1 line
Changed paths:
   M /trunk/plugins/megaco/packet-megaco.c

Fix http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1080.
------------------------------------------------------------------------
r19122 | etxrab | 2006-09-02 09:05:03 -0700 (Sat, 02 Sep 2006) | 1 line
Changed paths:
   M /trunk/plugins/megaco/packet-megaco.c

Remove some extra output for MediaDescriptor.
------------------------------------------------------------------------
r19123 | etxrab | 2006-09-02 09:55:31 -0700 (Sat, 02 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

Include codecs in the all target.
------------------------------------------------------------------------
r19124 | etxrab | 2006-09-02 09:56:22 -0700 (Sat, 02 Sep 2006) | 1 line
Changed paths:
   M /trunk/plugins/megaco/packet-megaco.c

Packages can have digits and '/' in their names...
------------------------------------------------------------------------
r19125 | sahlberg | 2006-09-02 16:18:38 -0700 (Sat, 02 Sep 2006) | 15 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-epl_v1.c
   A /trunk/epan/dissectors/packet-epl_v1.h
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/etypes.h

From David Buechi
New protocol: epl v1


Hi,

in addition to the recently submitted dissector for the EPL v2 protocol,
this is the dissector for the first version of the EPL protocol.

Best Regards,
David




------------------------------------------------------------------------
r19126 | etxrab | 2006-09-02 16:21:59 -0700 (Sat, 02 Sep 2006) | 1 line
Changed paths:
   M /trunk/plugins/megaco/packet-megaco.c

Comment out debug code.
------------------------------------------------------------------------
r19127 | jmayer | 2006-09-03 08:41:42 -0700 (Sun, 03 Sep 2006) | 3 lines
Changed paths:
   M /trunk/gtk/rtp_player.c

Ad $Id: § and reorder and reformat some comments in the header.


------------------------------------------------------------------------
r19128 | sahlberg | 2006-09-04 00:44:30 -0700 (Mon, 04 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-kerberos4.c

make the heuristics for detecting kerberos4 stronger



------------------------------------------------------------------------
r19129 | sahlberg | 2006-09-04 01:18:52 -0700 (Mon, 04 Sep 2006) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-kerberos.c
   M /trunk/epan/dissectors/packet-kerberos4.c

krb4 is a new style dissector and is called through a handle from krb5 which is also new style.

use call_dissector_only()  which is new-style aware and not call_dissector() which is not.

this fixes a recent bug found on the heimdal list.



------------------------------------------------------------------------
r19130 | martinm | 2006-09-04 04:04:14 -0700 (Mon, 04 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-atm.c
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   A /trunk/epan/dissectors/packet-umts_fp.c
   A /trunk/epan/dissectors/packet-umts_fp.h
   M /trunk/wiretap/catapult_dct2000.c
   M /trunk/wiretap/wtap.h

Partial implementation of UMTS FP.  Currently only works with Catapult DCT2000 format files, as need extra information about packet when decoding.  There are a few TODOs (notably E-DCH channels), but the current version gives OK coverage.

------------------------------------------------------------------------
r19131 | jmayer | 2006-09-04 06:34:48 -0700 (Mon, 04 Sep 2006) | 8 lines
Changed paths:
   M /trunk/acinclude.m4
   M /trunk/configure.in

Use portaudio if it's there. Check that we have the right version.
Note: This check is currently carried out by checking that the include
defines PortAudioStream. If you know of any better check, please let
me know.

acinclude.m4:
	Replace sequences of 8 spaces by tab

------------------------------------------------------------------------
r19132 | jake | 2006-09-04 07:12:26 -0700 (Mon, 04 Sep 2006) | 13 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppp.c

From Donald White:
First, the length of the header of a sub-frame may be miscalculated if
if the PID field is not present, but was present in a previous
sub-frame.  The calculation of the header length will use the value from
the previous sub-frame.

Second, correct the typo "ength" to "length".

Third, the length of the current sub-frame was not passed as the
reported length to a sub-dissector.  When the sub-dissector calls
tvb_reported_length(), the function returns the length of the complete
frame and not the length of the sub-frame to be dissected.

------------------------------------------------------------------------
r19133 | jmayer | 2006-09-04 07:16:50 -0700 (Mon, 04 Sep 2006) | 7 lines
Changed paths:
   M /trunk/acinclude.m4

After some reading it is clear that the code was written for
portaudio versions <= 18. At least Suse 10.1 provides a snapshot
of version 19, which, in turn has the brand new and incompatible
version 2.0 of the API. Change the error message to tell the
user that he needs portaudio <= 18.


------------------------------------------------------------------------
r19134 | jmayer | 2006-09-04 07:19:12 -0700 (Mon, 04 Sep 2006) | 6 lines
Changed paths:
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/rtp_player.c
   M /trunk/gtk/rtp_player.h

The previous way of (not) including portaudio support didn't
work reliably (at least it didn't work on my system).
Change it to just wrap the rtp_player.[hc] files into a
#if defined(...) #endif.


------------------------------------------------------------------------
r19135 | etxrab | 2006-09-04 11:04:10 -0700 (Mon, 04 Sep 2006) | 1 line
Changed paths:
   M /trunk/gtk/rtp_player.c
   M /trunk/gtk/rtp_player.h

Correct some typos and add some comments.
------------------------------------------------------------------------
r19136 | etxrab | 2006-09-04 11:10:14 -0700 (Mon, 04 Sep 2006) | 14 lines
Changed paths:
   M /trunk/asn1/h248/h248.cnf
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-h248.h

From Oleg Kostenko:
This patch will add the following functionality to the H.248
 dissector:

 1. Dissection of properties from Annex C.11 SDP equivalents.

 2. Dissection of EventNames and SignalNames from Annex E Basic
Packages.

 3. Dissection of event and signal parameters from Annex E.9 Analog
 Line Supervision Package.

 4. Dissection of statistics from Annex E.11 Network Package and
 Annex E.12 RTP Package.
------------------------------------------------------------------------
r19137 | etxrab | 2006-09-04 11:11:02 -0700 (Mon, 04 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

Fix a typo for rtp_player
------------------------------------------------------------------------
r19138 | etxrab | 2006-09-04 13:36:52 -0700 (Mon, 04 Sep 2006) | 1 line
Changed paths:
   M /trunk/plugins/megaco/packet-megaco.c

Always dissect SDP info to set up RTP conversation.
------------------------------------------------------------------------
r19139 | etxrab | 2006-09-04 14:07:35 -0700 (Mon, 04 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Fix(?) bug http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1042
Does the string need to be freed ad destruction of the hashtable?

Surplus add_text removed.
------------------------------------------------------------------------
r19140 | guy | 2006-09-04 15:47:16 -0700 (Mon, 04 Sep 2006) | 7 lines
Changed paths:
   M /trunk/acinclude.m4

AC_CHECK_TYPE outputs a "Checking..." message; we don't need to issue
one ourselves.

The documentation for autoconf isn't very clear on the "includes"
argument to AC_CHECK_TYPE - it's in the form of a list of #include
statements.

------------------------------------------------------------------------
r19141 | guy | 2006-09-04 16:20:52 -0700 (Mon, 04 Sep 2006) | 3 lines
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c

Declare "dissect_h248_Name()" and "dissect_h248_Value()" before they're
used.

------------------------------------------------------------------------
r19142 | guy | 2006-09-04 16:21:52 -0700 (Mon, 04 Sep 2006) | 3 lines
Changed paths:
   M /trunk/codecs/G711a/G711adecode.c
   M /trunk/codecs/G711a/G711adecode.h
   M /trunk/codecs/G711a/G711atable.h
   M /trunk/codecs/G711u/G711udecode.c
   M /trunk/codecs/G711u/G711udecode.h
   M /trunk/codecs/G711u/G711utable.h

Add RCS IDs, introductory comments, and multiple-include protection. 
Remove extra blank lines.

------------------------------------------------------------------------
r19143 | guy | 2006-09-04 16:22:39 -0700 (Mon, 04 Sep 2006) | 2 lines
Changed paths:
   M /trunk/gtk/Makefile.common

Build with rtp_player.c.

------------------------------------------------------------------------
r19144 | guy | 2006-09-04 16:23:16 -0700 (Mon, 04 Sep 2006) | 2 lines
Changed paths:
   M /trunk/gtk/rtp_player.c

Comment #endifs so you can tell what they match.

------------------------------------------------------------------------
r19145 | etxrab | 2006-09-04 22:38:11 -0700 (Mon, 04 Sep 2006) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vnc.c
   M /trunk/epan/dissectors/packet-x11-keysym.h

From Stephen Fisher:
A patch to bring the VNC dissector almost to completion.

I have not had a chance to finish the server message type "frame buffer 
update," which are the pixel values for screen rectangle updates.  
Everything else is there - tracking the keys the user is pushing, 
ringing a bell on the client, mouse button pushes/pointer movements, 
etc.
------------------------------------------------------------------------
r19146 | guy | 2006-09-05 00:58:14 -0700 (Tue, 05 Sep 2006) | 4 lines
Changed paths:
   M /trunk/gtk/voip_calls_dlg.c

Move the include of rtp_player.h after the include of stuff it needs,
and include rtp_analysis.h as well, as it declares something else
rtp_player.h needs.

------------------------------------------------------------------------
r19147 | jmayer | 2006-09-05 02:14:18 -0700 (Tue, 05 Sep 2006) | 1 line
Changed paths:
   M /trunk/asn1/h248

Added some files to svn:ignore
------------------------------------------------------------------------
r19148 | jmayer | 2006-09-05 02:17:55 -0700 (Tue, 05 Sep 2006) | 8 lines
Changed paths:
   M /trunk/acinclude.m4
   M /trunk/gtk/rtp_player.c

rtp_player.c will now compile with the new API, although it will not
actually do something useful except to print that the new API is not
supported.

Adapt acinclude.m4 to provide PORTAUDIO_API_1 and add back the
check_message to indicate *why* we are checking for the type.


------------------------------------------------------------------------
r19149 | jmayer | 2006-09-05 02:27:22 -0700 (Tue, 05 Sep 2006) | 7 lines
Changed paths:
   A /trunk/CMakeLists.txt
   A /trunk/README.cmake
   A /trunk/cmake
   A /trunk/cmake/modules
   A /trunk/cmake/modules/FindGTK2.cmake
   A /trunk/cmake/modules/FindPcap.cmake
   A /trunk/wiretap/CMakeLists.txt

OK, as I haven't had any negative feedback, I'm adding my work
to use cmake as a build system. It's in no way complete, I'd
just like others to be able to participate in playing with cmake
and to document what I'm doing.

Please read the README.cmake for what can be done right now.

------------------------------------------------------------------------
r19150 | jmayer | 2006-09-05 02:50:45 -0700 (Tue, 05 Sep 2006) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/README.cmake
   M /trunk/cmake/modules/FindGTK2.cmake
   M /trunk/cmake/modules/FindPcap.cmake
   M /trunk/wiretap/CMakeLists.txt

propset, add $Id$ and copyright headers
------------------------------------------------------------------------
r19151 | jmayer | 2006-09-05 05:04:46 -0700 (Tue, 05 Sep 2006) | 1 line
Changed paths:
   M /trunk/README.cmake

Add some links for further reading
------------------------------------------------------------------------
r19152 | jake | 2006-09-05 05:22:44 -0700 (Tue, 05 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-isakmp.c

Fix for bug 1093, as proposed by Atsushi Fukumoto

------------------------------------------------------------------------
r19153 | sahlberg | 2006-09-05 07:32:15 -0700 (Tue, 05 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

fix for bug 1079

verify that stat_info->request_uri is non null before doing string manipulations on it
so that we dont try to dereference a null pointer further down the code


------------------------------------------------------------------------
r19154 | sahlberg | 2006-09-05 08:13:39 -0700 (Tue, 05 Sep 2006) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c

fix for bug 1054

there were instances where the function dissect_nt_sid() would not fill in the return pointer for the sid string
causing callers that rely on that this string will ALWAYS be assigned try to access and g_free() an uninitialized pointer.

dissect_nt_sid() should be changed to use and return ep allocated memory instead of gmalloced memory



------------------------------------------------------------------------
r19155 | jmayer | 2006-09-05 08:58:11 -0700 (Tue, 05 Sep 2006) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tftp.c

Fix for http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1092
Actually, this was a feature request:

Store the value of the blksize option in the conversation data
and use that information to compare whether we have reached the
last packet.

Includes the cleanup ideas from Ronnie.

------------------------------------------------------------------------
r19156 | martinm | 2006-09-05 09:05:23 -0700 (Tue, 05 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-atm.c
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/wiretap/catapult_dct2000.c
   M /trunk/wiretap/wtap.h

For DCT2000, show better transport info:
- for FP over AAL2, add CID to AAL tree
- for IPPRIM protocols, show IPV4 addresses in src & dst columns

------------------------------------------------------------------------
r19157 | martinm | 2006-09-05 09:06:41 -0700 (Tue, 05 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-radius.c
   M /trunk/epan/dissectors/packet-smrse.c

Make smrse & radius dissectors findable by name
------------------------------------------------------------------------
r19158 | jmayer | 2006-09-05 09:09:49 -0700 (Tue, 05 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-tftp.c

option name "blksize" is case in-sensitive
------------------------------------------------------------------------
r19159 | etxrab | 2006-09-05 13:35:41 -0700 (Tue, 05 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.h.win32
   M /trunk/config.nmake

Handle PORTAUDIO_API_1 and add clean-deps target to distclean.
------------------------------------------------------------------------
r19160 | etxrab | 2006-09-05 22:22:05 -0700 (Tue, 05 Sep 2006) | 1 line
Changed paths:
   M /trunk/plugins/megaco/packet-megaco.c

NAME can also contain '_'
------------------------------------------------------------------------
r19161 | etxrab | 2006-09-05 22:23:38 -0700 (Tue, 05 Sep 2006) | 1 line
Changed paths:
   M /trunk/config.nmake

Add comments about PORTAUDIO API version comment out use of PORTAUDIO library for now.
------------------------------------------------------------------------
r19162 | jmayer | 2006-09-06 01:24:36 -0700 (Wed, 06 Sep 2006) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tftp.c

- Make options filterable
- Display options in info column
- Only remember blksize from OACK packets
- Add some rfc numbers
- Move tftp_dissect_options in front of dissect_tftp
  (I forgot to fix the forward decl once too often ;)
- Warning fixes
- Add expert error in case of tftp-error pdu


------------------------------------------------------------------------
r19163 | sahlberg | 2006-09-06 01:36:13 -0700 (Wed, 06 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-isakmp.c

fix for the typo in bug 1094


------------------------------------------------------------------------
r19164 | martinm | 2006-09-06 07:08:40 -0700 (Wed, 06 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Dissect some more common control messages
------------------------------------------------------------------------
r19165 | jake | 2006-09-06 14:08:24 -0700 (Wed, 06 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/enterprise-numbers

Update enterprise-numbers

------------------------------------------------------------------------
r19166 | jmayer | 2006-09-06 15:13:52 -0700 (Wed, 06 Sep 2006) | 5 lines
Changed paths:
   M /trunk/cmake/modules/FindGTK2.cmake

Update to newer version of the file from
http://cmake-modules.googlecode.com/svn/trunk/

This update adds a license text (dual: GPLv2 and 3 clause BSD)

------------------------------------------------------------------------
r19167 | jmayer | 2006-09-06 15:14:20 -0700 (Wed, 06 Sep 2006) | 1 line
Changed paths:
   M /trunk/README.cmake

Add cmake-modules URL
------------------------------------------------------------------------
r19168 | jmayer | 2006-09-06 15:28:19 -0700 (Wed, 06 Sep 2006) | 10 lines
Changed paths:
   M /trunk/CMakeLists.txt
   A /trunk/cmake/modules/FindGLIB.cmake
   A /trunk/cmake/modules/FindGLIB2.cmake
   A /trunk/cmake/modules/FindLEX.cmake
   A /trunk/cmake/modules/FindPCAP.cmake
   D /trunk/cmake/modules/FindPcap.cmake
   A /trunk/cmake/modules/FindYACC.cmake
   A /trunk/cmake/modules/LICENSE.txt
   A /trunk/cmakeconfig.h.in

cmake/
	Add some more (hackish) tests.
	Add a LICENSE file until I find the time to add it to all
	files individually.

CMakeLists.txt
	Add some addiotional stuff regarding options.
	Add (non-working) code to generate config.h
	Handle GTK1 vs GTK2 and GLIB1 vs GLIB2

------------------------------------------------------------------------
r19169 | jmayer | 2006-09-06 15:59:25 -0700 (Wed, 06 Sep 2006) | 3 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/cmake/modules/FindGTK2.cmake

The last update to FindGTK2.cmake was incompatible with it's use.
Fix a bug and adapt CMakeLists.txt to the new usage.

------------------------------------------------------------------------
r19170 | sahlberg | 2006-09-07 03:53:32 -0700 (Thu, 07 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-winreg.c
   M /trunk/epan/dissectors/packet-dcerpc-winreg.h
   M /trunk/epan/dissectors/pidl/packet-dcerpc-winreg.c
   M /trunk/epan/dissectors/pidl/winreg.cnf
   M /trunk/epan/dissectors/pidl/winreg.idl

 pidl now handles empty bitmaps properly so no need for the dummy (dont trigger empty bitmapbug entry)



------------------------------------------------------------------------
r19171 | jmayer | 2006-09-07 06:22:45 -0700 (Thu, 07 Sep 2006) | 7 lines
Changed paths:
   M /trunk/tools/pidl/idl.yp
   M /trunk/tools/pidl/lib/Parse/Pidl/IDL.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba4/NDR/Parser.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba4/NDR/Server.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba4.pm

Update from samba tree revision 17666 to 18221
============================ Samba log start ============
svn: When specifying working copy paths, only one target may be given
============================ Samba log end ==============



------------------------------------------------------------------------
r19172 | lego | 2006-09-07 09:16:51 -0700 (Thu, 07 Sep 2006) | 25 lines
Changed paths:
   M /trunk/epan/make-sminmpec.pl

From Andrew Feren:
	This adds some features to update enterprise-numbers from the web.

As used in the Makefile currently
 make-sminmpec.pl <infile> <outfile.c>

works exactly the same.  Additionally <infile> can be a URL to an infile in
the expected format.

Using the new "-gen" switch will create a new <infile>

example:
make-sminmpec.pl -gen \
   http://www.iana.org/assignments/enterprise-numbers \
   enterprise-numbers

other than that I modified so that calling it like
make-sminmpec.pl -gen
be like 
make-sminmpec.pl -gen \
 http://www.iana.org/assignments/enterprise-numbers \
 sminmpec.c



------------------------------------------------------------------------
r19173 | ulfl | 2006-09-07 13:01:07 -0700 (Thu, 07 Sep 2006) | 4 lines
Changed paths:
   M /trunk/docbook/Makefile
   A /trunk/docbook/check_svn_version.sh

fix bug #842: "make" now won't try to rebuild again if nothing changed since the last make call.
Other minor dependency fixes.

I didn't found a way to implement the SVN version check using make, so using a new shell script instead ...
------------------------------------------------------------------------
r19174 | ulfl | 2006-09-07 13:30:48 -0700 (Thu, 07 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dcom-sysact.c
   M /trunk/epan/dissectors/packet-dcom.c
   M /trunk/epan/dissectors/packet-dcom.h

distinguish between things "ToBeDone" and "NoSpecificationAvailable" as some DCOM things are just unknown and cannot be implemented therefore
------------------------------------------------------------------------
r19175 | ulfl | 2006-09-07 13:33:02 -0700 (Thu, 07 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-epm.c

add some probable protocol IDs from the DCOM specs
------------------------------------------------------------------------
r19176 | ulfl | 2006-09-07 13:35:26 -0700 (Thu, 07 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c
   M /trunk/epan/dissectors/packet-dcom-cba-acco.c
   M /trunk/epan/dissectors/packet-tcp.c

tweak some expert infos so they better work with the composite dialog (e.g. remove some minor details)
------------------------------------------------------------------------
r19177 | lego | 2006-09-07 15:38:16 -0700 (Thu, 07 Sep 2006) | 18 lines
Changed paths:
   M /trunk/epan/make-sminmpec.pl

removed options.


now it can either be called as

make-sminmpec.pl

so it will fetch the file only if it has been modified since we last loaded it

or 

make-sminmpec.pl enterprise-numbers

to regenerate the C file from the given file.

Luis


------------------------------------------------------------------------
r19178 | jmayer | 2006-09-07 16:44:22 -0700 (Thu, 07 Sep 2006) | 1 line
Changed paths:
   M /trunk/docbook/check_svn_version.sh

propset svn:executable
------------------------------------------------------------------------
r19179 | jmayer | 2006-09-07 19:25:55 -0700 (Thu, 07 Sep 2006) | 1 line
Changed paths:
   M /trunk/docbook/Makefile

. is not necessarily in /home/jmayer/bin:/usr/local/bin:/usr/bin:/usr/X11R6/bin:/bin:/usr/games:/opt/gnome/bin:/opt/kde3/bin:/opt/cross/bin:/usr/lib/jvm/jre/bin:/usr/lib/mit/bin:/usr/lib/mit/sbin:/sbin:/usr/sbin:/usr/local/sbin:/sbin:/usr/sbin:/usr/local/sbin, so add it
------------------------------------------------------------------------
r19180 | etxrab | 2006-09-07 23:58:40 -0700 (Thu, 07 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-clnp.c
   M /trunk/epan/dissectors/packet-osi.c

Move the code to handle ISO protocols over TCP/TPKT to packet-osi.c where it belongs.
------------------------------------------------------------------------
r19181 | etxrab | 2006-09-08 00:32:13 -0700 (Fri, 08 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipsec.c

From Frédéric Roudaut:
as requested  here is a patch  in order to take into account  Encryption 
and Authentication keys for ESP in hexa. 
You only have to write your key with 0x first. In this case if the key 
is not in 8-bit unit, it will be considered as starting with a "0" (4 bits). Excepted this case, the key should be completely written, even if it 
starts with "0x00".
------------------------------------------------------------------------
r19182 | ulfl | 2006-09-08 00:44:22 -0700 (Fri, 08 Sep 2006) | 1 line
Changed paths:
   M /trunk/docbook/Makefile

add dependency to custom_layer_pdf.xsl for all fo files
------------------------------------------------------------------------
r19183 | ulfl | 2006-09-08 00:45:22 -0700 (Fri, 08 Sep 2006) | 1 line
Changed paths:
   M /trunk/docbook/custom_layer_pdf.xsl

switch off draft mode, so the PDF generation won't try to load a draft image from the web
------------------------------------------------------------------------
r19184 | wmeier | 2006-09-10 06:37:42 -0700 (Sun, 10 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/codecs/Makefile.nmake
   M /trunk/gtk/Makefile.nmake

minor cleanup for making codecs
------------------------------------------------------------------------
r19185 | sahlberg | 2006-09-10 07:03:08 -0700 (Sun, 10 Sep 2006) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/dissectors/packet-tcp.h
   M /trunk/epan/packet_info.h
   M /trunk/epan/req_resp_hdrs.c

implement support to reassemble tcp sessions until the end of the session (FIN)

add required code to the http (and others) code in req_resp_hdrs.c to signal to tcp
when it wants a session to be reassembled to the FIN.

This is currently done for all HTTP packets where we have a Content-type in the header but no content-length.




------------------------------------------------------------------------
r19186 | sahlberg | 2006-09-10 07:34:57 -0700 (Sun, 10 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

fix for bug 1045


windows in SYN and SYN+ACK packets are not scaled so dont apply window scaling to them when displaying them in the tree


------------------------------------------------------------------------
r19187 | etxrab | 2006-09-10 11:03:22 -0700 (Sun, 10 Sep 2006) | 5 lines
Changed paths:
   M /trunk/config.nmake
   M /trunk/gtk/voip_calls.c

From Alejandro Vaquero:
Need to use HAVE_LIBPORTAUDIO instead 
of PORTAUDIO_DIR in voip_calls.c

And build the windows version with Port audio.
------------------------------------------------------------------------
r19188 | jake | 2006-09-10 11:48:33 -0700 (Sun, 10 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-vrrp.c

VRRPver3 support fixed: Count restored, Auth Type is reserved field.
------------------------------------------------------------------------
r19189 | martinm | 2006-09-11 05:03:29 -0700 (Mon, 11 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-atm.c
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-umts_fp.c
   M /trunk/epan/dissectors/packet-umts_fp.h

Added E-DCH (HSUPA) channels to FP.
Also show VPI/VCI/CID in ATM protocol label.

------------------------------------------------------------------------
r19190 | etxrab | 2006-09-11 13:35:24 -0700 (Mon, 11 Sep 2006) | 5 lines
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c

Fix bug http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1091

h248_handle was declared localy, udp port was not added at register.

Added a few more packagenames.
------------------------------------------------------------------------
r19191 | ulfl | 2006-09-11 13:41:32 -0700 (Mon, 11 Sep 2006) | 1 line
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_build_install.xml

add the LUA plugin install option
------------------------------------------------------------------------
r19192 | ulfl | 2006-09-11 15:30:12 -0700 (Mon, 11 Sep 2006) | 4 lines
Changed paths:
   M /trunk/docbook/user-guide.xml
   M /trunk/docbook/wsdg_src/WSDG_chapter_libraries.xml
   M /trunk/docbook/wsdg_src/WSDG_chapter_tools.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_io.xml

add missing libraries: GNUTLS, Gcrypt, Kerberos, LUA, PortAudio (please check if it's correct)

fix a lot of broken URL's

------------------------------------------------------------------------
r19193 | ulfl | 2006-09-11 15:34:29 -0700 (Mon, 11 Sep 2006) | 3 lines
Changed paths:
   M /trunk/README.win32

As no one seems to update the install information in this file (including me), remove most of the installation text and mention the User's Guide instead.

Some minor updates in the development section as well.
------------------------------------------------------------------------
r19194 | ulfl | 2006-09-11 15:37:46 -0700 (Mon, 11 Sep 2006) | 1 line
Changed paths:
   M /trunk/tools/win32-setup.sh

a proxy might also be specified using .wgetrc, so don't switch off the proxy explicitly
------------------------------------------------------------------------
r19195 | ulfl | 2006-09-11 15:43:00 -0700 (Mon, 11 Sep 2006) | 1 line
Changed paths:
   M /trunk/config.nmake

let the user only specify the PortAudio version and do the "ugly details" in the part below, just as we do it for most other libs 
------------------------------------------------------------------------
r19196 | ulfl | 2006-09-11 15:47:57 -0700 (Mon, 11 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.h.win32
   M /trunk/config.nmake
   M /trunk/epan/Makefile.nmake

tweak the nmake build so the NET-SNMP library is in fact optional (as it is in the UNIX builds)
------------------------------------------------------------------------
r19197 | ulfl | 2006-09-11 17:23:46 -0700 (Mon, 11 Sep 2006) | 1 line
Changed paths:
   M /trunk/airpcap_loader.c
   M /trunk/airpcap_loader.h

remove obsolete "HAVE_AIRPCAP_API" comment
------------------------------------------------------------------------
r19198 | ulfl | 2006-09-11 17:27:03 -0700 (Mon, 11 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/epan/dissectors/Makefile.nmake
   M /trunk/gtk/Makefile.nmake
   M /trunk/gtk/help_dlg.c
   M /trunk/gtk/menu.c

various nmake related build file cleanups
------------------------------------------------------------------------
r19199 | ulfl | 2006-09-11 18:04:35 -0700 (Mon, 11 Sep 2006) | 3 lines
Changed paths:
   M /trunk/Makefile.nmake

Hmmm, don't optimize too much :-)

also fix the clean_setup
------------------------------------------------------------------------
r19200 | ulfl | 2006-09-12 01:19:39 -0700 (Tue, 12 Sep 2006) | 1 line
Changed paths:
   M /trunk/image/Makefile.nmake

add a comment, that .res files are generated using an implicit (built in) nmake rule
------------------------------------------------------------------------
r19201 | ulfl | 2006-09-12 01:22:02 -0700 (Tue, 12 Sep 2006) | 1 line
Changed paths:
   M /trunk/image/win32-file-dlg.rc
   M /trunk/image/wireshark.rc.in

wireshark.res is generated in the image dir, so the paths for includes should be relative to /image and not to /
------------------------------------------------------------------------
r19202 | ulfl | 2006-09-12 01:24:01 -0700 (Tue, 12 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

add a missing dependency from wiretap to the image dir, otherwise image/wiretap.res can't be generated for some targets
------------------------------------------------------------------------
r19203 | jmayer | 2006-09-12 02:35:29 -0700 (Tue, 12 Sep 2006) | 4 lines
Changed paths:
   M /trunk/docbook/Makefile

- Replace the ELINKS variable by HTML2TEXT and include the parameters
  into the variable to make this actually portable.
- Some whitespace changes between filenames and the \

------------------------------------------------------------------------
r19204 | sahlberg | 2006-09-12 02:53:10 -0700 (Tue, 12 Sep 2006) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipsec.c

prettify dissection of ESP

show the IV as a hexadecimal
show the protocol name for the Next header field inside ESP



------------------------------------------------------------------------
r19205 | sahlberg | 2006-09-12 03:02:28 -0700 (Tue, 12 Sep 2006) | 2 lines
Changed paths:
   M /trunk/AUTHORS

the name of the protocol is IPsec, not IP-sec

------------------------------------------------------------------------
r19206 | sahlberg | 2006-09-12 03:04:11 -0700 (Tue, 12 Sep 2006) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipsec.c

put the ah and esp payload as its own top level expansion in the tree instead of as an expansion inside the ah/esp layer.


since source/dest/protocol/info is updated by the content of the payload    it doesnt make sense to hide the actual payload inside esp/ah
it just would look confusing



------------------------------------------------------------------------
r19207 | martinm | 2006-09-12 04:36:42 -0700 (Tue, 12 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Various small fixes and prettifications
------------------------------------------------------------------------
r19208 | sahlberg | 2006-09-12 04:39:51 -0700 (Tue, 12 Sep 2006) | 14 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-http.c

from bryant eastham


Also, there is still an outstanding issue regarding the default use of
the "media" dissector. The way it is currently coded there is no way to
have a heuristic decoder when a content-type header is specified.


In this way if there is a decoder for a specific content-type then it
will be used, then the heuristic decoders have a chance, and finally the
default of either the media-type decoder of the http_payload decoder.



------------------------------------------------------------------------
r19209 | sahlberg | 2006-09-12 04:51:48 -0700 (Tue, 12 Sep 2006) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-redback.c

from Florian Lohoff

Hi,
after using the redback dissector again i found some more protocol
types:



------------------------------------------------------------------------
r19210 | sahlberg | 2006-09-12 05:08:34 -0700 (Tue, 12 Sep 2006) | 27 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-s5066.c

from Taner Kurtulus and Menno Andriesse

Hi folks,
We think we've found a bug in STANAG 5066 SIS layer dissector.

Problem is at S_EXPEDITED_UNIDATA_INDICATION S_Prim's parser
and occurs when we receive a U_PDU via expedited unidata channel.
Dissector tries to parse first 2 bytes of U_PDU as a header size of  type
21 s_prim (S_UNIDATA_INDICATION). But, this is not an wanted  process on
that parser. Maybe, it was forgotten unchanged from
S_UNIDATA_INDICATION dissector while copying it. So it shows
data (U_PDU) 2 bytes short. Moreover, if data is just 1-byte, TCP datagrams
receive TCP checksum error.


Confirmed.

It was indeed a "copy-paste-did not edit correctly" bug.

While going over the code once more, I found:

1 - One bug in the heuristic. (Changed '&&' to '||')
2 - One to-do that was already done. (Removed the /* TODO */)
3 - One to-do that is now done. ;-)



------------------------------------------------------------------------
r19211 | jake | 2006-09-12 05:58:16 -0700 (Tue, 12 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bpdu.c
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/etypes.h

Fix for bug 1098. Add BPDU dissector to ethertype 0x8181.

------------------------------------------------------------------------
r19212 | martinm | 2006-09-12 10:13:56 -0700 (Tue, 12 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

More DCH control types
------------------------------------------------------------------------
r19213 | ulfl | 2006-09-12 10:28:38 -0700 (Tue, 12 Sep 2006) | 1 line
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_libraries.xml

use the official name spelling for some projects
------------------------------------------------------------------------
r19214 | ulfl | 2006-09-12 10:34:41 -0700 (Tue, 12 Sep 2006) | 1 line
Changed paths:
   M /trunk/config.h.win32

it's HAVE_LIBGNUTLS instead HAVE_GNUTLS
------------------------------------------------------------------------
r19215 | ulfl | 2006-09-12 10:45:43 -0700 (Tue, 12 Sep 2006) | 1 line
Changed paths:
   M /trunk/config.nmake

it's HAVE_PORTAUDIO, not HAVE_LIBPORTAUDIO
------------------------------------------------------------------------
r19216 | ulfl | 2006-09-12 10:46:55 -0700 (Tue, 12 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

fix the generation of config.h, some HAVE_... were wrong
------------------------------------------------------------------------
r19217 | ulfl | 2006-09-12 10:50:36 -0700 (Tue, 12 Sep 2006) | 7 lines
Changed paths:
   M /trunk/version_info.c

add version output (e.g. in the About box) for the following libraries:
-GnuTLS
-Gcrypt
-Kerberos (no version, only if compiled with MIT/HEIMDAL or without any kerberos)
-PortAudio (version number only for V>=19, maybe need some fixing)

Don't know how to use the line breaking stuff, if someone could help me here ...
------------------------------------------------------------------------
r19218 | jmayer | 2006-09-12 11:43:56 -0700 (Tue, 12 Sep 2006) | 11 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.h.win32
   M /trunk/version_info.c

Makefile.nmake
config.h.win32
  - Use HAVE_LIBPORTAUDIO instead of HAVE_PORTAUDIO to make
    sure we use the same var everywhere (including sources
    and autofoo stuff).
  - Use PORTAUDIO_API_1 everywhere

version_info.c
  - Include <portaudio.h>
  - Add some , and breaks when printing version infos.

------------------------------------------------------------------------
r19219 | jmayer | 2006-09-12 11:51:22 -0700 (Tue, 12 Sep 2006) | 7 lines
Changed paths:
   M /trunk/version_info.c

tshark wouldn't link any more, as it doesn't link against
libportaudio, but version_info.c with libportaudio >= 19
needs to link against this.

FIXME: Just print out >= 19 instead of real version string
  until someone finds a proper solution.

------------------------------------------------------------------------
r19220 | etxrab | 2006-09-12 12:02:10 -0700 (Tue, 12 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-osi.c

Set default port to zero.
------------------------------------------------------------------------
r19221 | etxrab | 2006-09-12 12:11:45 -0700 (Tue, 12 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

From: Luca Deri via Andrew Feren:
> please find enclosed a patch to the CFlow dissector (packet-netflow.c) 
> that enables it to decode IPFIX packet traces.
------------------------------------------------------------------------
r19222 | guy | 2006-09-12 13:23:57 -0700 (Tue, 12 Sep 2006) | 5 lines
Changed paths:
   M /trunk/gtk/main.c
   M /trunk/version_info.c

Move the PortAudio stuff to from version_info.c to gtk/main.c, so it can
use Pa_GetVersionText().

(The word-wrapping stuff appears to work.)

------------------------------------------------------------------------
r19223 | guy | 2006-09-12 13:24:42 -0700 (Tue, 12 Sep 2006) | 3 lines
Changed paths:
   M /trunk/acinclude.m4

AC_CHECK_TYPE already prints a "checking for" message; don't bother
printing another one before calling it.

------------------------------------------------------------------------
r19224 | gerald | 2006-09-12 14:59:54 -0700 (Tue, 12 Sep 2006) | 2 lines
Changed paths:
   M /trunk/wiretap/ber.c

Get rid of a compiler warning.

------------------------------------------------------------------------
r19225 | guy | 2006-09-12 18:28:07 -0700 (Tue, 12 Sep 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

Not all platforms define "u_short", and "tvb_length_remaining()+4" isn't
guaranteed to fit into a "u_short" in any case.  Use "gint" instead.

Squelch some compiler warnings.

------------------------------------------------------------------------
r19226 | sahlberg | 2006-09-13 01:30:16 -0700 (Wed, 13 Sep 2006) | 16 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-lsa.c
   M /trunk/epan/dissectors/packet-dcerpc.c
   M /trunk/epan/dissectors/packet-dcerpc.h

the way we pass dcerpc strings from deep down in helpers to high level dissector functions (dcv->private_data) for things such as strings and sids is a mess and very difficult to handle without a lot of memory leakage.

the biggest problem in changing this is the dcv->private_data usage.


add a dcv->se_data which can keep data around from a request to a response and use this to change the LSA/OpenPolicy2 servername passing from request to response as a test pattern of moving all users of dcv->private data over to use dcv->se_data.

once all users are migrated over we can then change the dcv->private data pointer to be of ep scope and thus not need an explicit free (which is quite difficult and it is quite difficult in the old semantics to know WHEN we need to free this pointer)

this will eventually make the usage more clean and at the same time close down quite a few memory leaks.


eventually this will make dissect_ndr_nt_SID return a pointer to ep allocated memory that need not be explicitely freed.



------------------------------------------------------------------------
r19227 | jmayer | 2006-09-13 03:51:40 -0700 (Wed, 13 Sep 2006) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

Add a comment
------------------------------------------------------------------------
r19228 | ulfl | 2006-09-13 04:28:36 -0700 (Wed, 13 Sep 2006) | 1 line
Changed paths:
   M /trunk/config.nmake

so it's HAVE_LIBPORTAUDIO
------------------------------------------------------------------------
r19229 | martinm | 2006-09-13 06:32:31 -0700 (Wed, 13 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Add support for R6 HSDPA data 'new IEs' (the spec seems not be be very clear...).
Try to cast away a warning seen on buildbot logs

------------------------------------------------------------------------
r19230 | ulfl | 2006-09-13 13:37:37 -0700 (Wed, 13 Sep 2006) | 1 line
Changed paths:
   M /trunk/docbook/wsug_graphics/ws-display-filter-tcp.png
   M /trunk/docbook/wsug_src/WSUG_chapter_advanced.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_capture.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_introduction.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_io.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_work.xml

fix various minor things noted by Brian Drab
------------------------------------------------------------------------
r19231 | jmayer | 2006-09-14 03:51:44 -0700 (Thu, 14 Sep 2006) | 17 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mtp3.c
   M /trunk/epan/dissectors/packet-mtp3.h
   M /trunk/epan/dissectors/packet-mtp3mg.c
   M /trunk/epan/dissectors/packet-sccp.c
   M /trunk/epan/dissectors/packet-sccpmg.c

Jeff Morriss:
	Fix for bug 1036

I looked at this today and found that in fact the PC stuff is pretty
hosed up in the SS7 dissectors.  For example, MTP3 *looks* OK here (DPC is
4-5-6):

    Routing label
        DPC (4-5-6) (394500)

but 394500 == 0x60504 == 6-5-4.  Something's not right.

I made a common PC dissector function for all the SS7 dissectors so as to
concentrate all this code in one place (something I've been wanting to do for a
while anyway) and fixed the reported problem as well as the above problem in
the attached patch.

------------------------------------------------------------------------
r19232 | sahlberg | 2006-09-14 05:01:18 -0700 (Thu, 14 Sep 2006) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-svcctl.c

add OpenSCManagerW


also make the dissector manage that dcv->private_data in the future will be of ep scope



------------------------------------------------------------------------
r19233 | martinm | 2006-09-14 08:43:43 -0700 (Thu, 14 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

More fixes and prettifications
------------------------------------------------------------------------
r19234 | etxrab | 2006-09-14 10:21:28 -0700 (Thu, 14 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c
   M /trunk/epan/dissectors/packet-umts_fp.h

svn propset.
------------------------------------------------------------------------
r19235 | martinm | 2006-09-15 08:03:18 -0700 (Fri, 15 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

More missing message types
------------------------------------------------------------------------
r19236 | gerald | 2006-09-15 14:35:01 -0700 (Fri, 15 Sep 2006) | 6 lines
Changed paths:
   M /trunk/doc/wireshark.pod
   M /trunk/docbook/wsug_src/WSUG_chapter_capture.xml
   M /trunk/util.c

Use SESSIONNAME instead of CLIENTNAME to try to detect RDP sessions.
Look for a string that starts with "rdp".  This should take care of
cases where a default capture filter is set needlessly.

Update the docs accordingly.

------------------------------------------------------------------------
r19237 | ulfl | 2006-09-15 14:59:09 -0700 (Fri, 15 Sep 2006) | 1 line
Changed paths:
   M /trunk/image/win32-file-dlg.rc

"Elapsed Time:" is truncated, use "Elapsed:" instead
------------------------------------------------------------------------
r19238 | ulfl | 2006-09-15 15:03:20 -0700 (Fri, 15 Sep 2006) | 1 line
Changed paths:
   M /trunk/gtk/win32-file-dlg.c

Use the same caption in the Win32 version as in the GTK dialogs: "Wireshark: Select a capture file" -> "Wireshark: Open Capture File"
------------------------------------------------------------------------
r19239 | ulfl | 2006-09-15 15:56:15 -0700 (Fri, 15 Sep 2006) | 3 lines
Changed paths:
   M /trunk/docbook/Makefile
   M /trunk/docbook/user-guide.xml
   A /trunk/docbook/wsug_graphics/ws-merge-gtk1.png
   A /trunk/docbook/wsug_graphics/ws-merge-gtk2.png (from /trunk/docbook/wsug_graphics/ws-merge.png:19229)
   A /trunk/docbook/wsug_graphics/ws-merge-win32.png
   D /trunk/docbook/wsug_graphics/ws-merge.png
   A /trunk/docbook/wsug_graphics/ws-open-gtk1.png
   A /trunk/docbook/wsug_graphics/ws-open-gtk2.png (from /trunk/docbook/wsug_graphics/ws-open.png:19229)
   A /trunk/docbook/wsug_graphics/ws-open-win32.png
   D /trunk/docbook/wsug_graphics/ws-open.png
   A /trunk/docbook/wsug_graphics/ws-save-as-gtk1.png
   A /trunk/docbook/wsug_graphics/ws-save-as-gtk2.png (from /trunk/docbook/wsug_graphics/ws-save-as.png:19229)
   A /trunk/docbook/wsug_graphics/ws-save-as-win32.png
   D /trunk/docbook/wsug_graphics/ws-save-as.png
   M /trunk/docbook/wsug_src/WSUG_chapter_io.xml

first step to fix the file dialog "mess":
- use different screenshots for: GTK1, GTK2 and Win32
- rewrite the "File Open Dialog" section
------------------------------------------------------------------------
r19240 | sahlberg | 2006-09-15 22:30:31 -0700 (Fri, 15 Sep 2006) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-samr.c

make SAMR not rely on dcv->private_data being persistent any more and use dcv->se_data


once the private_data -> se_data conversion is complete we can plug quite a large number of memory leaks related to dcerpc



------------------------------------------------------------------------
r19241 | sahlberg | 2006-09-16 01:51:03 -0700 (Sat, 16 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-spoolss.c

remove any dependencies that dcv->private_data is persistent


------------------------------------------------------------------------
r19242 | sahlberg | 2006-09-16 02:10:23 -0700 (Sat, 16 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-nt.c

strings we pass up to the caller through private_data are now of ep scope


this closes a few memory leaks


------------------------------------------------------------------------
r19243 | sahlberg | 2006-09-16 02:20:34 -0700 (Sat, 16 Sep 2006) | 4 lines
Changed paths:
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-windows-common.c

make dissect_nt_sid return ep allocated memory and thus fix a few memory leaks
(this function is often called from dcerpc dissectors)


------------------------------------------------------------------------
r19244 | sahlberg | 2006-09-16 04:57:14 -0700 (Sat, 16 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-srvsvc.c
   M /trunk/epan/dissectors/packet-dcerpc-srvsvc.h
   A /trunk/epan/dissectors/pidl/srvsvc.cnf
   M /trunk/epan/dissectors/pidl/srvsvc.idl

generate SRVSVC by pidl

small prettification regression but that will be fixed in the next few days



------------------------------------------------------------------------
r19245 | ulfl | 2006-09-16 05:13:32 -0700 (Sat, 16 Sep 2006) | 7 lines
Changed paths:
   M /trunk/docbook/Makefile

can we agree on using lynx?

Cygwin situation:
- lynx works
- elinks is not available (at least on the standard repositories)
- links and true doesn't produce any output

------------------------------------------------------------------------
r19246 | ulfl | 2006-09-16 06:06:38 -0700 (Sat, 16 Sep 2006) | 3 lines
Changed paths:
   M /trunk/docbook/wsug_graphics/ws-merge-gtk2.png
   M /trunk/docbook/wsug_graphics/ws-merge-win32.png
   M /trunk/docbook/wsug_graphics/ws-save-as-gtk2.png
   M /trunk/docbook/wsug_graphics/ws-save-as-win32.png
   M /trunk/docbook/wsug_src/WSUG_chapter_io.xml

second step to fix the file dialog "mess":
- rewrite the "File Save" and "File Merge" sections

------------------------------------------------------------------------
r19247 | etxrab | 2006-09-17 12:43:13 -0700 (Sun, 17 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-uma.c

Fix for http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1107

"The decoder has some bugs:
 * RTP redundancy field is decoded incorrectly.
 * Timer TU3920 is displayed as being in seconds, but it is really in units of
100 ms."
------------------------------------------------------------------------
r19248 | etxrab | 2006-09-17 13:23:23 -0700 (Sun, 17 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tipc.c

From Martin Peylo:
Improve Infocolumn output.
------------------------------------------------------------------------
r19249 | sahlberg | 2006-09-18 01:05:51 -0700 (Mon, 18 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-srvsvc.c
   M /trunk/epan/dissectors/packet-dcerpc-srvsvc.h
   M /trunk/epan/dissectors/pidl/srvsvc.idl

add decoding of the SessionInfo userflags



------------------------------------------------------------------------
r19250 | sahlberg | 2006-09-18 01:42:46 -0700 (Mon, 18 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-srvsvc.c
   M /trunk/epan/dissectors/packet-dcerpc-srvsvc.h
   M /trunk/epan/dissectors/pidl/srvsvc.idl

some more bitmaps for SRVSVC


------------------------------------------------------------------------
r19251 | jake | 2006-09-18 02:27:47 -0700 (Mon, 18 Sep 2006) | 4 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-pktgen.c

From Francesco Fondelli:
You find attached a patch file (against svn 19058) to dissect packets
produced by the Linux kernel packet generator.

------------------------------------------------------------------------
r19252 | jmayer | 2006-09-18 03:14:12 -0700 (Mon, 18 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mtp3.c

jeff morriss:
	Patch for http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1102


------------------------------------------------------------------------
r19253 | martinm | 2006-09-18 06:39:23 -0700 (Mon, 18 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Add old release DSCH FDD fields.  Try to squash compiler warnings seen on MACOS buildbot
------------------------------------------------------------------------
r19254 | jake | 2006-09-18 06:59:30 -0700 (Mon, 18 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcp.c
   M /trunk/epan/dissectors/packet-dcp.h
   M /trunk/epan/dissectors/packet-icep.c

Licepnse -> License

------------------------------------------------------------------------
r19255 | jake | 2006-09-18 07:29:58 -0700 (Mon, 18 Sep 2006) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ymsg.c

From G.F. aka Gena01
I have put together a patch for YMSG packet dissector. This is based on my own code and service lists (this
should match Gaim and Kopete service lists). This new code should bring the code up to par to most of the
known services. Which should cover up to Yahoo 7.x or most of it.

I have also setup a new set of constants which are specific to YMSG packets. These are the types that I've
seen in miranda network logs and they should reveal more information. The other constants are mostly for buddy
statuses and need nor apply to the YMSG header.  I have left them in the code (for now). These constants are
currently used in my own code.

------------------------------------------------------------------------
r19256 | gerald | 2006-09-18 15:22:44 -0700 (Mon, 18 Sep 2006) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

Fix protocol reference link URL.

------------------------------------------------------------------------
r19257 | sahlberg | 2006-09-19 01:02:19 -0700 (Tue, 19 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-dfs.c
   M /trunk/epan/dissectors/packet-dcerpc-dfs.h
   A /trunk/epan/dissectors/pidl/dfs.cnf
   A /trunk/epan/dissectors/pidl/dfs.idl

import DFS.idl from samba and use it to generate a much more complete DFS dissector


------------------------------------------------------------------------
r19258 | jmayer | 2006-09-19 08:29:38 -0700 (Tue, 19 Sep 2006) | 6 lines
Changed paths:
   M /trunk/tools/pidl/TODO
   M /trunk/tools/pidl/lib/Parse/Pidl/NDR.pm
   D /trunk/tools/pidl/lib/Parse/Pidl/Samba3/Client.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba3/ClientNDR.pm
   D /trunk/tools/pidl/lib/Parse/Pidl/Samba3/Header.pm
   D /trunk/tools/pidl/lib/Parse/Pidl/Samba3/Parser.pm
   D /trunk/tools/pidl/lib/Parse/Pidl/Samba3/Server.pm
   A /trunk/tools/pidl/lib/Parse/Pidl/Samba3/ServerNDR.pm
   D /trunk/tools/pidl/lib/Parse/Pidl/Samba3/Template.pm
   D /trunk/tools/pidl/lib/Parse/Pidl/Samba3/Types.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba4/Header.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba4/NDR/Parser.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba4.pm
   M /trunk/tools/pidl/pidl
   M /trunk/tools/pidl/tests/ndr_string.pl

Update from samba tree revision 18221 to 18675
============================ Samba log start ============
svn: When specifying working copy paths, only one target may be given
============================ Samba log end ==============


------------------------------------------------------------------------
r19259 | martinm | 2006-09-19 10:40:24 -0700 (Tue, 19 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Make Content-Length and Max-Forwards fields uints
------------------------------------------------------------------------
r19260 | etxrab | 2006-09-19 13:25:57 -0700 (Tue, 19 Sep 2006) | 5 lines
Changed paths:
   M /trunk/asn1/gsmmap/packet-gsm_map-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

From Graham Addis:
 In dissect_geographical_description the longitude is multiplied by 260 
 and should be by 360(degrees).

 Also it would be good to display to 5 decimal places.
------------------------------------------------------------------------
r19261 | guy | 2006-09-19 19:52:26 -0700 (Tue, 19 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Add some routines to the list of routines exported by libwireshark - at
least one dissector writer needs them.

------------------------------------------------------------------------
r19262 | etxrab | 2006-09-19 23:13:02 -0700 (Tue, 19 Sep 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-llc.c
   M /trunk/epan/libwireshark.def
   M /trunk/epan/oui.h

From David Pelton:
Add  the ieee802a_add_oui function to libwireshark.def, and also adds the OUI that I am using to a couple of internal lists (in epan/oui.h and dissectors/packet-llc.c).

From me:
Resorted the oui  lists, some witespace changes and added Ericsson OUI:s.
------------------------------------------------------------------------
r19263 | etxrab | 2006-09-19 23:14:45 -0700 (Tue, 19 Sep 2006) | 1 line
Changed paths:
   M /trunk/asn1/ansi_map/packet-ansi_map-template.c

Dont use itu_ssn
------------------------------------------------------------------------
r19264 | martinm | 2006-09-20 05:12:18 -0700 (Wed, 20 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-multipart.c

Add Content-Id and Content-Transfer-Encoding headers, as described in RFC 2045/6

------------------------------------------------------------------------
r19265 | martinm | 2006-09-20 05:13:18 -0700 (Wed, 20 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-msrp.c

Make the data part of the message filterable

------------------------------------------------------------------------
r19266 | jmayer | 2006-09-20 07:22:15 -0700 (Wed, 20 Sep 2006) | 5 lines
Changed paths:
   M /trunk/radius/dictionary

Alexander Schrab:
	Subject: [Wireshark-dev] New radius attributes (RFC 4590)
	Hi, i noticed you haven't updated the radius dictionary file. Here is a patch


------------------------------------------------------------------------
r19267 | jake | 2006-09-20 07:59:37 -0700 (Wed, 20 Sep 2006) | 2 lines
Changed paths:
   M /trunk/radius/dictionary

Repair patch to accurately follow RFC 4590

------------------------------------------------------------------------
r19268 | jake | 2006-09-20 22:29:41 -0700 (Wed, 20 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Add http_dissector_add upon request

------------------------------------------------------------------------
r19269 | sahlberg | 2006-09-21 02:18:39 -0700 (Thu, 21 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-dfs.c
   M /trunk/epan/dissectors/packet-dcerpc-dfs.h
   M /trunk/epan/dissectors/pidl/dfs.idl

dfs updates


------------------------------------------------------------------------
r19270 | martinm | 2006-09-21 03:21:12 -0700 (Thu, 21 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

New fields in R6 RACH
------------------------------------------------------------------------
r19271 | jake | 2006-09-21 06:08:50 -0700 (Thu, 21 Sep 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

From: Marco Strack
The smb dissector displays lock requests in the "Locking AndX Request" as a vector of locks. It opens a tree branch
"Locks" and appends the locks to this branch. Instead of adding "Lock" objects to this branch it added "Unlock"
objects. Everything else is fine.

------------------------------------------------------------------------
r19272 | guy | 2006-09-21 10:39:17 -0700 (Thu, 21 Sep 2006) | 7 lines
Changed paths:
   M /trunk/gtk/rtp_player.c
   M /trunk/gtk/rtp_player.h
   M /trunk/gtk/voip_calls.c

Include "rtp_player.h" in "voip_calls.c" if we're supporting the RTP
player, so that we get declartions of rtp_player_init() and
add_rtp_packet().

Constify the first argument to add_rtp_packet(), as it's passed a
pointer to a const value.

------------------------------------------------------------------------
r19273 | guy | 2006-09-21 10:41:47 -0700 (Thu, 21 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

Fix the handling of IPv4-address and Boolean suboptions of the Novell
options item.

------------------------------------------------------------------------
r19274 | guy | 2006-09-21 10:42:23 -0700 (Thu, 21 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

Add some space after commas.

------------------------------------------------------------------------
r19275 | etxrab | 2006-09-21 12:39:42 -0700 (Thu, 21 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-lapd.c
   M /trunk/epan/dissectors/packet-q931.c

Fix for bug http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1106

packet-lapd.c change on 2006-03-02 (17452) by etxrab swaps SRC/DST for the default case
And added a comment to Q.931
------------------------------------------------------------------------
r19276 | sahlberg | 2006-09-21 14:14:33 -0700 (Thu, 21 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-winreg.c
   M /trunk/epan/dissectors/pidl/packet-dcerpc-winreg.c
   M /trunk/epan/dissectors/pidl/winreg.idl

winreg updates    resync idl from s4


------------------------------------------------------------------------
r19277 | sahlberg | 2006-09-21 15:01:32 -0700 (Thu, 21 Sep 2006) | 3 lines
Changed paths:
   A /trunk/epan/dissectors/pidl/eventlog.cnf
   A /trunk/epan/dissectors/pidl/eventlog.idl

add idl file and conformance file for eventlog interface


------------------------------------------------------------------------
r19278 | sahlberg | 2006-09-21 15:02:08 -0700 (Thu, 21 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/pidl/eventlog.idl

merge JBMs changes from the handwritten dissector to the idl


------------------------------------------------------------------------
r19279 | sahlberg | 2006-09-21 17:01:38 -0700 (Thu, 21 Sep 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-eventlog.c
   M /trunk/epan/dissectors/packet-dcerpc-eventlog.h
   M /trunk/epan/dissectors/pidl/eventlog.cnf

updates to eventlog to use the pidl generated dissector  and enhance the conformance file to dissect parts of the eventlog Records.
(record dissection is incomplete since this is not really NDR encoded   but better than nothing)



------------------------------------------------------------------------
r19280 | sahlberg | 2006-09-21 18:40:23 -0700 (Thu, 21 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-eventlog.c
   M /trunk/epan/dissectors/pidl/eventlog.cnf

add conformance file magic to decode the non-NDR  source/computer name strings of the eventlog_Record



------------------------------------------------------------------------
r19281 | ulfl | 2006-09-22 00:41:56 -0700 (Fri, 22 Sep 2006) | 1 line
Changed paths:
   M /trunk/packaging/nsis/wireshark.nsi
   M /trunk/packaging/u3/win32/makefile.nmake

remove AUTHOS-SHORT-FORMAT from NSIS and U3 installation
------------------------------------------------------------------------
r19282 | sahlberg | 2006-09-22 00:43:29 -0700 (Fri, 22 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-eventlog.c
   M /trunk/epan/dissectors/pidl/eventlog.cnf

update to eventlog record

dissect the informational strings that may be present inside an event



------------------------------------------------------------------------
r19283 | sahlberg | 2006-09-22 00:56:18 -0700 (Fri, 22 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-eventlog.c
   M /trunk/epan/dissectors/pidl/eventlog.cnf

update where the extra strings in the record are being dissected to that the decode follows the packet structure more closely



------------------------------------------------------------------------
r19284 | sahlberg | 2006-09-22 02:27:25 -0700 (Fri, 22 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-dfs.c
   M /trunk/epan/dissectors/packet-dcerpc-dfs.h
   M /trunk/epan/dissectors/pidl/dfs.idl

dfs updates from the s4 idl repository


------------------------------------------------------------------------
r19285 | martinm | 2006-09-22 03:29:19 -0700 (Fri, 22 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

EDCH new fields + another DCH control message type
------------------------------------------------------------------------
r19286 | martinm | 2006-09-22 05:35:06 -0700 (Fri, 22 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Add remaining dedicated control message types.  This dissector is pretty complete now.
------------------------------------------------------------------------
r19287 | martinm | 2006-09-22 05:41:30 -0700 (Fri, 22 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-umts_fp.h

Add missing updates to unbreak build...
------------------------------------------------------------------------
r19288 | gal | 2006-09-22 08:19:32 -0700 (Fri, 22 Sep 2006) | 5 lines
Changed paths:
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c

When dissecting LDAP, the assumption was made that the maximum LDAP PDU size will be 65535. Anything bigger than this was considered not to be LDAP. However, LDAP can have PDU sizes bigger than this - a CRL can easily grow to be bigger than this, for example.

This patch makes the the maximum valid LDAP PDU size a preference. The default value for this new preference is 65535 for backwards compatibility.


------------------------------------------------------------------------
r19289 | gal | 2006-09-22 10:39:02 -0700 (Fri, 22 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Fix to show all the internal tokens. when configured, when dissecting an unknown piece of BER.


------------------------------------------------------------------------
r19290 | gram | 2006-09-22 11:51:25 -0700 (Fri, 22 Sep 2006) | 3 lines
Changed paths:
   M /trunk/tools/netscreen2dump.py

Handle netscreen 5.3r4 snoop output, too.
This format adds "len=\d+" before the ":"

------------------------------------------------------------------------
r19291 | gerald | 2006-09-22 14:14:54 -0700 (Fri, 22 Sep 2006) | 10 lines
Changed paths:
   M /trunk/Makefile.common
   M /trunk/capture_loop.c
   M /trunk/capture_loop.h
   M /trunk/doc/tshark.pod
   M /trunk/dumpcap.c
   M /trunk/epan/Makefile.common
   M /trunk/epan/guid-utils.c
   M /trunk/epan/proto.c
   M /trunk/epan/proto.h
   M /trunk/epan/strutil.c
   M /trunk/epan/strutil.h
   M /trunk/gtk/font_utils.c
   M /trunk/gtk/help_dlg.c
   M /trunk/gtk/prefs_dlg.c
   M /trunk/gtk/webbrowser.c
   M /trunk/gtk/win32-file-dlg.c
   M /trunk/tshark.c
   M /trunk/version_info.c

Add support for reading from stdin under Windows.  Based on a patch sent
in last year by Gianluca Varenni.

Add partial support for reading from named pipes (currently disabled).

Move utf_8to16() and utf_16to8() to a separate module (unicode-utils.[ch])
so that we don't have to cut and paste code in dumpcap.c.

Fix up whitespace.

------------------------------------------------------------------------
r19292 | jake | 2006-09-22 14:18:51 -0700 (Fri, 22 Sep 2006) | 2 lines
Changed paths:
   M /trunk/gtk/menu.c

Move Copy below the tree manipulation options.

------------------------------------------------------------------------
r19293 | gerald | 2006-09-22 15:34:54 -0700 (Fri, 22 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/filesystem.c
   A /trunk/epan/unicode-utils.c
   A /trunk/epan/unicode-utils.h

Add missing files from last commit.  Fix an #include.

------------------------------------------------------------------------
r19294 | ulfl | 2006-09-22 16:08:06 -0700 (Fri, 22 Sep 2006) | 1 line
Changed paths:
   M /trunk/capture-wpcap.c
   M /trunk/version_info.c

Slightly reshape the version text: Bring the OS info above the WinPcap text - this just makes more sense IMHO
------------------------------------------------------------------------
r19295 | ulfl | 2006-09-22 16:16:31 -0700 (Fri, 22 Sep 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake

add a packaging_u3 target
rename gtk2_distclean -> clean_gtk2.tmp (as that's what it's really doing)
------------------------------------------------------------------------
r19296 | gerald | 2006-09-22 16:26:52 -0700 (Fri, 22 Sep 2006) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

Don't complain if we can't find airpcap.dll.

------------------------------------------------------------------------
r19297 | ulfl | 2006-09-22 16:49:08 -0700 (Fri, 22 Sep 2006) | 5 lines
Changed paths:
   M /trunk/gtk/main.c

experimental: append the current maximum expert warning level to the "File" statusbar, e.g. "[Expert: Chat]".

I'm still looking for a good way to display the current expert level and this seems to be the best place.

However, ideas are still welcome ...
------------------------------------------------------------------------
r19298 | ulfl | 2006-09-22 17:14:48 -0700 (Fri, 22 Sep 2006) | 9 lines
Changed paths:
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/capture_if_details_dlg.c
   A /trunk/gtk/gtkvumeter.c
   A /trunk/gtk/gtkvumeter.h

GTK2: add an analog VU meter like display widget 

Win32: use the widget to display the RSSI and Link Speed values as this is far better understandable than the raw numerical values (especially if you don't know the values well).

the GTK VU meter widget is based on LGPL'ed code from http://www.mumblelina.com/index.php?gtkvumeter=1 

... and I've heavily changed and extended it to fit the problem here.

We might use the VU meter widget later at other places as well ...
------------------------------------------------------------------------
r19299 | ulfl | 2006-09-22 17:28:04 -0700 (Fri, 22 Sep 2006) | 1 line
Changed paths:
   M /trunk/gtk/Makefile.nmake

rtp_player.c is already included in WIRESHARK_GTK_SRC, no need to mention it twice
------------------------------------------------------------------------
r19300 | ulfl | 2006-09-22 17:38:00 -0700 (Fri, 22 Sep 2006) | 1 line
Changed paths:
   M /trunk/capture_loop.c

squelch some compiler warnings due to currently disabled code
------------------------------------------------------------------------
r19301 | ulfl | 2006-09-22 17:38:56 -0700 (Fri, 22 Sep 2006) | 1 line
Changed paths:
   M /trunk/capture_sync.c

use unicode-utils.h instead of strutil.h
------------------------------------------------------------------------
r19302 | ulfl | 2006-09-22 18:39:07 -0700 (Fri, 22 Sep 2006) | 3 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/doc/Makefile.nmake

change the Win32 build environment, so we can create release zip files without the need of an installer - a feature requested from time to time. When this is matured, we might want to add these zip files (of GTK1 and GTK2 versions) to the released files.

config.nmake contains the target INSTALL1_DIR and INSTALL2_DIR. I guess you can retain the previous behaviour by using . for both DIRs, though I never tested this...
------------------------------------------------------------------------
r19303 | ulfl | 2006-09-23 01:39:54 -0700 (Sat, 23 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

fix a typo
------------------------------------------------------------------------
r19304 | sahlberg | 2006-09-23 06:21:54 -0700 (Sat, 23 Sep 2006) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c
   M /trunk/epan/dissectors/packet-smb-pipe.c
   M /trunk/epan/dissectors/packet-smb.c

replace a rotating buffer in smb with ep allocated memory

dont try dcerpc reassembly of fragments if we dont have the entire pdu

only call the heuristical dissectors once from smb/pipe as per guy(?)s comments about idempotence.
when doing reassembly, the dcerpc dissector is indeed not idempotent any more.



------------------------------------------------------------------------
r19305 | lego | 2006-09-23 07:24:22 -0700 (Sat, 23 Sep 2006) | 3 lines
Changed paths:
   M /trunk/gtk/Makefile.am

Get rid of a tab after a / that caused make on MacOS X to believe that \t was another target


------------------------------------------------------------------------
r19306 | sahlberg | 2006-09-23 14:55:40 -0700 (Sat, 23 Sep 2006) | 13 lines
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c
   M /trunk/epan/dissectors/packet-windows-common.h

we did not have a proper WERR error table for the windows errors   insterad we justkept adding the errors to the DOS error table (this merging does work ok since there is so very little overlap between he values in both ranges)

Add a new WERR error table to packet-windows-common    so that PIDL generated dissectors can use this table instead of the DOS table.


To make this table as complete and accurate as possible and to avoid having to type all the values in by hand    the table is generated from the samba doserr.h file and two small commandlines.
The commends in pakcet-windows-common.h explains how to regenerate the table from doserr.h






------------------------------------------------------------------------
r19307 | ulfl | 2006-09-23 15:08:39 -0700 (Sat, 23 Sep 2006) | 1 line
Changed paths:
   M /trunk/packaging/nsis/wireshark.nsi

fix a typo, the comment char is ; not !
------------------------------------------------------------------------
r19308 | ulfl | 2006-09-23 17:45:31 -0700 (Sat, 23 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-image-png.c

don't replace the COL_PROTO and COL_INFO entries simply with "PNG", but append it only to the COL_INFO just like the GIF dissector is doing

this keeps valuable info in COL_INFO, e.g. the HTTP status code 
------------------------------------------------------------------------
r19309 | ulfl | 2006-09-24 04:10:31 -0700 (Sun, 24 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c

print the connectionless interface name if such is known
------------------------------------------------------------------------
r19310 | sahlberg | 2006-09-24 13:21:27 -0700 (Sun, 24 Sep 2006) | 6 lines
Changed paths:
   M /trunk/gtk/gtkvumeter.h

we dont have G_BEGIN_DECLS on old gtk/glib versions

since we dont use c++ anyway we dont need these macros



------------------------------------------------------------------------
r19311 | sahlberg | 2006-09-24 13:23:17 -0700 (Sun, 24 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-atsvc.c
   M /trunk/epan/dissectors/packet-dcerpc-dfs.c
   M /trunk/epan/dissectors/packet-dcerpc-dfs.h
   M /trunk/epan/dissectors/packet-dcerpc-initshutdown.c
   M /trunk/epan/dissectors/packet-dcerpc-winreg.c
   M /trunk/epan/dissectors/pidl/atsvc.idl
   M /trunk/epan/dissectors/pidl/dfs.idl
   M /trunk/epan/dissectors/pidl/packet-dcerpc-atsvc.c
   M /trunk/epan/dissectors/pidl/packet-dcerpc-initshutdown.c
   M /trunk/epan/dissectors/pidl/packet-dcerpc-winreg.c

pidl has been updated to use WERR instead of DOS error tables.
regenerate some dissectors


------------------------------------------------------------------------
r19312 | sahlberg | 2006-09-24 13:24:39 -0700 (Sun, 24 Sep 2006) | 3 lines
Changed paths:
   D /trunk/epan/dissectors/pidl/packet-dcerpc-atsvc.c
   D /trunk/epan/dissectors/pidl/packet-dcerpc-atsvc.h
   D /trunk/epan/dissectors/pidl/packet-dcerpc-initshutdown.c
   D /trunk/epan/dissectors/pidl/packet-dcerpc-initshutdown.h
   D /trunk/epan/dissectors/pidl/packet-dcerpc-winreg.c
   D /trunk/epan/dissectors/pidl/packet-dcerpc-winreg.h

these dissector functions should not be in svn in pidl   they are just temporary files that are copied to the correct location after being manually compiled


------------------------------------------------------------------------
r19313 | guy | 2006-09-24 13:27:25 -0700 (Sun, 24 Sep 2006) | 2 lines
Changed paths:
   M /trunk/gtk/gtkvumeter.c

Squelch some compiler warnings.

------------------------------------------------------------------------
r19314 | guy | 2006-09-24 13:28:16 -0700 (Sun, 24 Sep 2006) | 2 lines
Changed paths:
   M /trunk/image/toolbar/capture_airpcap_16.xpm
   M /trunk/image/toolbar/capture_ethernet_16.xpm

Squelch some compiler warnings.

------------------------------------------------------------------------
r19315 | guy | 2006-09-24 13:29:47 -0700 (Sun, 24 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl.c

Squelch a compiler warning.

Clean up indentation.

------------------------------------------------------------------------
r19316 | guy | 2006-09-24 13:31:02 -0700 (Sun, 24 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-eventlog.c
   M /trunk/epan/dissectors/pidl/eventlog.cnf

dissect_ndr_uint16()'s last argument points to a guint16, not a guint.

------------------------------------------------------------------------
r19317 | ulfl | 2006-09-24 13:37:30 -0700 (Sun, 24 Sep 2006) | 1 line
Changed paths:
   M /trunk/gtk/gtkvumeter.h

instead of simply removing G_BEGIN_DECLS (maybe someone wants to use it in a c++ project), use an #if GTK_MAJOR_VERSION >= 2 around all definitions. This will also make it clear that this widget won't work with gtk 1.x
------------------------------------------------------------------------
r19318 | etxrab | 2006-09-24 14:04:53 -0700 (Sun, 24 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Handle Zero length SEQUENCE and SEQUENCE OF.
------------------------------------------------------------------------
r19319 | lego | 2006-09-24 18:09:00 -0700 (Sun, 24 Sep 2006) | 5 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in
   M /trunk/epan/Makefile.am
   M /trunk/epan/epan.c
   A /trunk/epan/wslua
   A /trunk/epan/wslua/Makefile.am
   A /trunk/epan/wslua/Makefile.nmake
   A /trunk/epan/wslua/init_wslua.c
   A /trunk/epan/wslua/make-doc.pl
   A /trunk/epan/wslua/make-init-lua.pl
   A /trunk/epan/wslua/make-reg.pl
   A /trunk/epan/wslua/make-taps.pl
   A /trunk/epan/wslua/taps
   A /trunk/epan/wslua/template-init.lua
   A /trunk/epan/wslua/wslua.h
   A /trunk/epan/wslua/wslua_dumper.c
   A /trunk/epan/wslua/wslua_field.c
   A /trunk/epan/wslua/wslua_gui.c
   A /trunk/epan/wslua/wslua_listener.c
   A /trunk/epan/wslua/wslua_pinfo.c
   A /trunk/epan/wslua/wslua_proto.c
   A /trunk/epan/wslua/wslua_tree.c
   A /trunk/epan/wslua/wslua_tvb.c
   A /trunk/epan/wslua/wslua_util.c
   M /trunk/plugins/Makefile.am

Move the Lua interface into epan... (not a plugin anymore).
- Rename Tap into Listener
- add a mechanism to pass protocols' tap data to the Listener


------------------------------------------------------------------------
r19320 | sahlberg | 2006-09-25 01:10:10 -0700 (Mon, 25 Sep 2006) | 3 lines
Changed paths:
   M /trunk/capture_loop.c

make sure we still compile for all out rh71 users


------------------------------------------------------------------------
r19321 | sahlberg | 2006-09-25 01:50:21 -0700 (Mon, 25 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-wkssvc.c
   M /trunk/epan/dissectors/packet-dcerpc-wkssvc.h
   M /trunk/epan/dissectors/pidl/wkssvc.cnf
   M /trunk/epan/dissectors/pidl/wkssvc.idl

update the idl for wkssvc and generate the dissector by pidl


------------------------------------------------------------------------
r19322 | lego | 2006-09-25 18:12:14 -0700 (Mon, 25 Sep 2006) | 5 lines
Changed paths:
   M /trunk/epan/epan.c

Since there's no Lua headers in windows yet, as a temporary workarround just declare wslua_init instead of including wslua.h.

Sorry!


------------------------------------------------------------------------
r19323 | lego | 2006-09-25 18:19:29 -0700 (Mon, 25 Sep 2006) | 5 lines
Changed paths:
   M /trunk/epan/epan.c

Complete the workarround of prev rev, temporarilly disabling lua from unix as well.

Luis.


------------------------------------------------------------------------
r19324 | lego | 2006-09-25 20:31:00 -0700 (Mon, 25 Sep 2006) | 3 lines
Changed paths:
   M /trunk/config.nmake
   M /trunk/epan/Makefile.nmake
   M /trunk/epan/wslua/Makefile.am
   M /trunk/epan/wslua/Makefile.nmake
   M /trunk/epan/wslua/wslua.h
   M /trunk/packaging/nsis/Makefile.nmake
   M /trunk/packaging/nsis/wireshark.nsi
   M /trunk/plugins/Makefile.nmake

Lua 5.1.1 for windows


------------------------------------------------------------------------
r19325 | lego | 2006-09-25 20:36:31 -0700 (Mon, 25 Sep 2006) | 3 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/tools/win32-setup.sh

The forgotten files!


------------------------------------------------------------------------
r19326 | lego | 2006-09-25 21:06:17 -0700 (Mon, 25 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/wslua/init_wslua.c

wslua_init() must return a value


------------------------------------------------------------------------
r19327 | lego | 2006-09-26 03:22:20 -0700 (Tue, 26 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/epan.c

Re-enable lua as the windows version is already there.


------------------------------------------------------------------------
r19328 | martinm | 2006-09-26 06:01:27 -0700 (Tue, 26 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-multipart.c

- Mark the multipart type as a generated field.
- Remove the RFC 3261 attribution in the long text version of several headers (some of them I couldn't easily work out where the first non-obsoleted introduction of them is)

------------------------------------------------------------------------
r19329 | gerald | 2006-09-26 15:24:50 -0700 (Tue, 26 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/Makefile.am
   M /trunk/epan/wslua/Makefile.am

Fix distcheck errors.  Add epan/wslua to the list of distribution
directories, make sure $(scrdir) is prepended to script paths, and 
fixup the wslua distclean target.

------------------------------------------------------------------------
r19330 | gerald | 2006-09-26 15:51:04 -0700 (Tue, 26 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/Makefile.nmake

Don't try to build wslua if LUA_DIR isn't defined.

------------------------------------------------------------------------
r19331 | lego | 2006-09-26 17:45:55 -0700 (Tue, 26 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake

use luaforge's 5.1 dll to be able to link on windows. fix some mistakes
------------------------------------------------------------------------
r19332 | lego | 2006-09-26 19:51:08 -0700 (Tue, 26 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/wslua/template-init.lua

Add a simple lua console to allow evaluation of conde into init.lua


------------------------------------------------------------------------
r19333 | sahlberg | 2006-09-27 01:59:20 -0700 (Wed, 27 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-dcerpc-wzcsvc.c
   A /trunk/epan/dissectors/packet-dcerpc-wzcsvc.h
   A /trunk/epan/dissectors/pidl/wzcsvc.cnf
   A /trunk/epan/dissectors/pidl/wzcsvc.idl

add new dcerpc protocol WZCSVC based on samba4 idl

this protocol is not too interesting yet since only the function names of this interface is known  but it is more that no dissection at all



------------------------------------------------------------------------
r19334 | martinm | 2006-09-27 02:48:42 -0700 (Wed, 27 Sep 2006) | 1 line
Changed paths:
   M /trunk/print.c

Fix PDML export problem for FT_NONE fields (bug 1110)
------------------------------------------------------------------------
r19335 | jmayer | 2006-09-27 04:03:22 -0700 (Wed, 27 Sep 2006) | 5 lines
Changed paths:
   M /trunk/acinclude.m4

Change some messages when ucd snmp is found but --with-ssl
is missing. Also I changed the behaviour to just disable
ucd snmp in case it was requested but no --with-ssl was
given instead of bailing out with an error.

------------------------------------------------------------------------
r19336 | martinm | 2006-09-27 05:49:00 -0700 (Wed, 27 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Dissect sequence number & method name of CSeq header.

------------------------------------------------------------------------
r19337 | gerald | 2006-09-27 09:49:53 -0700 (Wed, 27 Sep 2006) | 3 lines
Changed paths:
   M /trunk/packaging/nsis/Makefile.nmake

Make the NSIS distclean target be a bit more thorough about cleaning up old
installers.

------------------------------------------------------------------------
r19338 | lego | 2006-09-27 10:12:42 -0700 (Wed, 27 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/funnel.c
   M /trunk/epan/funnel.h
   M /trunk/epan/wslua/make-init-lua.pl
   M /trunk/epan/wslua/template-init.lua
   M /trunk/epan/wslua/wslua_gui.c
   M /trunk/gtk/funnel_stat.c
   M /trunk/gtk/gui_stat_menu.h
   M /trunk/gtk/menu.c
   M /trunk/gtk/tap_dfilter_dlg.c
   M /trunk/stat_menu.h
   M /trunk/tap-funnel.c
   M /trunk/tap_dfilter_dlg.h


* rename REGISTER_STAT_GROUP_E -> register_stat_group_t
* Add a "Tools" menu
* allow wslua's register_menu to register menu items into more menus


------------------------------------------------------------------------
r19339 | gerald | 2006-09-27 11:02:40 -0700 (Wed, 27 Sep 2006) | 7 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/tools/win32-setup.sh

Update GNUTLS to 1.5.1.  This includes an updated libgcrypt, which should
fix bug 1096.

Switch back to fetching a date-stamped URL in win32-setup.sh.  This
ensures backward compatibility with previous releases and non-updated
SVN trees.

------------------------------------------------------------------------
r19340 | etxrab | 2006-09-27 12:30:22 -0700 (Wed, 27 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

Handle unaligned dissect_per_length_determinant and dissect_per_restricted_character_string_sorted.
------------------------------------------------------------------------
r19341 | etxrab | 2006-09-27 13:06:06 -0700 (Wed, 27 Sep 2006) | 12 lines
Changed paths:
   M /trunk/asn1/camel/packet-camel-template.c
   M /trunk/asn1/gsmmap/GSMMAP.asn
   M /trunk/asn1/gsmmap/packet-gsm_map-template.c
   M /trunk/asn1/tcap/packet-tcap-template.c
   M /trunk/asn1/tcap/packet-tcap-template.h
   M /trunk/asn1/tcap/tcap.cnf
   M /trunk/epan/Makefile.common
   M /trunk/epan/dissectors/packet-camel.c
   M /trunk/epan/dissectors/packet-gsm_map.c
   M /trunk/epan/dissectors/packet-tcap.c
   M /trunk/epan/dissectors/packet-tcap.h
   A /trunk/epan/tcap-persistentdata.c
   A /trunk/epan/tcap-persistentdata.h

From Florent Drouin:
Here are some patches and a new module to introduce the notion of Tcap context for a Tcap transaction. For each Tcap transaction, several parameters, like session identifier, start time or OID, will be saved in a hash table, to keep these informations available for the next messages. This context is then given to the upper layer, and can be used, for example, to generate transaction-associated statistics.

Moreover, the Upper protocol, detected in the Begin of the TCAP transaction ( according to the OID ), is saved in the context, and will be reused for the next messages of the transaction. This help the decoding of SS7 messages, without any SSN configuration in the "wireshark preferences".

You will have too, the possibility to apply a filter to see only the messages related to a TCAP transaction. (tcap.srt.session_id=XXX)

To enable the use of the Tcap context, you have 2 new parameters in the preferences,
- SRT, enable search for a Tcap context for any TCAP messages
- persistentSRT, keep the Tcap context, even after the transaction has been closed. This is mandatory with Wireshark, to have a clean display of the stats.

There is 2 new timers  in the preferences for the statistics, to tune the retransmission timeout, and messages lost timeout.
------------------------------------------------------------------------
r19342 | sahlberg | 2006-09-27 13:55:13 -0700 (Wed, 27 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-efs.c
   M /trunk/epan/dissectors/packet-dcerpc-efs.h
   A /trunk/epan/dissectors/pidl/efs.cnf
   A /trunk/epan/dissectors/pidl/efs.idl

generate the EFS DCERPC interface dissector using PIDL


------------------------------------------------------------------------
r19343 | sahlberg | 2006-09-27 13:56:15 -0700 (Wed, 27 Sep 2006) | 3 lines
Changed paths:
   D /trunk/epan/dissectors/dcerpc/efs

EFS is generated by PIDL now so we dont need the old idl2wrs folder any more


------------------------------------------------------------------------
r19344 | gerald | 2006-09-27 17:33:46 -0700 (Wed, 27 Sep 2006) | 2 lines
Changed paths:
   M /trunk/packaging/nsis/wireshark.nsi

Add lua5.1.dll to the installer.

------------------------------------------------------------------------
r19345 | sahlberg | 2006-09-28 00:52:46 -0700 (Thu, 28 Sep 2006) | 12 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-nfs.c

From Alex Burlyga

This patch adds support for dissecting ontap's nfsv4 filehandle,
as well as some updates to nfsv3 filehandle as well in the nfs
dissector.

Alex.


checked in with minor changes


------------------------------------------------------------------------
r19346 | lego | 2006-09-28 01:57:29 -0700 (Thu, 28 Sep 2006) | 3 lines
Changed paths:
   M /trunk/gtk/menu.c
   M /trunk/stat_menu.h

Avoid to add an empty menu if there's no Lua.


------------------------------------------------------------------------
r19347 | martinm | 2006-09-28 02:27:28 -0700 (Thu, 28 Sep 2006) | 1 line
Changed paths:
   M /trunk/print.c

Remove extra double quote from fix to bug 1110
------------------------------------------------------------------------
r19348 | sahlberg | 2006-09-28 08:55:13 -0700 (Thu, 28 Sep 2006) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

Hi,

This patch fixes the page code selector for the scsi log sense command.

Patrick




------------------------------------------------------------------------
r19349 | sahlberg | 2006-09-28 08:57:54 -0700 (Thu, 28 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

additional scsi sense codes from patrick@abra2.bitwizard.nl


------------------------------------------------------------------------
r19350 | sahlberg | 2006-09-28 09:29:18 -0700 (Thu, 28 Sep 2006) | 34 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-dcerpc-mapi.c
   M /trunk/epan/dissectors/packet-dcerpc.c
   A /trunk/epan/dissectors/packet-newmail.c

From stephen fisher:


I have figured out one of the fields in the MAPI
EcRRegisterPushNotification packet.  The field is a UDP port number that
the client wants the Exchange server to send new mail notifications on.
These notifications are on a port > 1023 and are always 8 bytes long.

It looks like I would add the function name to the
dcerpc_mapi_dissectors[] for the register push notification.  What would
my new function need to do besides display the field?


Thanks,

Steve

Here is a patch to add this functionality.  It displays the notification
port and the notification payload (not sure what the payload itself
means yet).  It also dynamically registers each notification port found
with a new dissector (that I called newmail for lack of a better name -
I'm open to suggestions) that displays the notification payload.  This
is all undocumented by Microsoft in their usual fashion.

I also changed the code to always display the mapi.opnum field;
currently, the mapi.opnum is only displayed when the
dcerpc_mapi_dissector is null.


Steve




------------------------------------------------------------------------
r19351 | jake | 2006-09-28 09:30:20 -0700 (Thu, 28 Sep 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-mip6.h

From Nicolas DICHTEL:
I've two patchs for FMIPv6:
- FBU encapsulated in FNA are not correctly parsed;
- there is an error when parsing LLA Option.

------------------------------------------------------------------------
r19352 | ulfl | 2006-09-28 12:53:11 -0700 (Thu, 28 Sep 2006) | 5 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_app_files.xml
   M /trunk/docbook/wsug_src/WSUG_app_messages.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_advanced.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_build_install.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_capture.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_introduction.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_io.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_use.xml
   M /trunk/docbook/wsug_src/WSUG_preface.xml

from Stephen Fisher:

Attached is a patch to fix some spelling mistakes in the Wireshark 
User's Guide.  I also fixed the author's email addresses as the 
addresses did not match the right names.
------------------------------------------------------------------------
r19353 | jake | 2006-09-28 13:28:26 -0700 (Thu, 28 Sep 2006) | 5 lines
Changed paths:
   M /trunk/wiretap/eyesdn.c

From Rolf Fiedler:
I am the author of the eyesdn wiretap module. Recently we added ATM
support to our trace format. We used channel id 129 for that, so far
only 0 for D channel and 1-30 for bearer channels had been in use.

------------------------------------------------------------------------
r19354 | etxrab | 2006-09-28 22:50:41 -0700 (Thu, 28 Sep 2006) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tipc.c

From Martin Peylo:

- dissection of TIPCv2 internal messages now shows
  all fields used according to the protocol spec
- there should be no issues with the current protocol
  spec anymore
- the info column is more concise and gives more
  details
- some code beautifications
------------------------------------------------------------------------
r19355 | etxrab | 2006-09-28 22:51:44 -0700 (Thu, 28 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-isakmp.c

Update some value_strings
------------------------------------------------------------------------
r19356 | etxrab | 2006-09-28 22:52:41 -0700 (Thu, 28 Sep 2006) | 1 line
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c

Add some more package names.
------------------------------------------------------------------------
r19357 | etxrab | 2006-09-28 22:53:47 -0700 (Thu, 28 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

Fixa a typo copy -> xcopy
------------------------------------------------------------------------
r19358 | jake | 2006-09-29 01:47:51 -0700 (Fri, 29 Sep 2006) | 6 lines
Changed paths:
   M /trunk/wiretap/eyesdn.c

From: Rolf Fiedler 
So far Wireshark complained about channel 129, now it gets a little further 
and then complains about channel 128. 

Solution: Open up all channel from 128 up. 

------------------------------------------------------------------------
r19359 | sahlberg | 2006-09-29 02:24:51 -0700 (Fri, 29 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c
   M /trunk/epan/dissectors/packet-scsi.h

move the defines for SPC command opcode values to the headerfile


------------------------------------------------------------------------
r19360 | sahlberg | 2006-09-29 03:40:51 -0700 (Fri, 29 Sep 2006) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-scsi-osd.c
   A /trunk/epan/dissectors/packet-scsi-osd.h
   M /trunk/epan/dissectors/packet-scsi.c
   M /trunk/epan/dissectors/packet-scsi.h

add initial scsi osd dissector  but only dissect sdbs that are impoerted from SPC

various changes to the existing scsi dissector to start allowing different commandsets to be implemented in their own dissector files to prevent the scsi dissector to become as huge as the parlay dissector




------------------------------------------------------------------------
r19361 | kukosa | 2006-09-29 04:09:17 -0700 (Fri, 29 Sep 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

From Reinhard Speyerer:
patch fixes a small typo in epan/dissectors/packet-per.c
------------------------------------------------------------------------
r19362 | sahlberg | 2006-09-29 04:12:18 -0700 (Fri, 29 Sep 2006) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iscsi.c

add a missing heuristic to acept a NOP_IN packet and correct a broken heuristic that would refuse all NOP_OUT pdus as non-iscsi



it is absolutely amazing that none of the iscsi implementors and users of wireshark had noticed this breakage and reported it.   they apparently do not use wireshark.


------------------------------------------------------------------------
r19363 | jake | 2006-09-29 09:31:52 -0700 (Fri, 29 Sep 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.h

From Nicolas DICHTEL:
Please find enclosed a patch about Mobile Network Prefix option in NEMO.
Following RFC3963 Section 4.3, lenght of this option is 18, not 16.

------------------------------------------------------------------------
r19364 | martinm | 2006-09-29 10:35:23 -0700 (Fri, 29 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Dissect Via header
------------------------------------------------------------------------
r19365 | jake | 2006-09-29 12:39:40 -0700 (Fri, 29 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-xot.c

Fix for bug 1133:
add a test for (length > 0) in the dissector (dissect_xot_pdu), to avoid to
allocate a new tvb when the XOT decoded length is null. 
------------------------------------------------------------------------
r19366 | etxrab | 2006-09-29 14:26:27 -0700 (Fri, 29 Sep 2006) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml
   M /trunk/epan/dissectors/packet-diameter-defs.h
   M /trunk/radius/dictionary.3gpp

Update Diamater and Radius AVP:s
------------------------------------------------------------------------
r19367 | etxrab | 2006-09-29 14:27:58 -0700 (Fri, 29 Sep 2006) | 1 line
Changed paths:
   M /trunk/plugins/asn1/packet-asn1.c

Use #defines from packet-ber.h rather than asn1.h change default ports to Zero.
------------------------------------------------------------------------
r19368 | ulfl | 2006-09-29 14:53:54 -0700 (Fri, 29 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

MSVC doesn't like empty array inits
------------------------------------------------------------------------
r19369 | ulfl | 2006-09-29 15:40:55 -0700 (Fri, 29 Sep 2006) | 1 line
Changed paths:
   M /trunk/gtk/prefs_dlg.c

fix the context menu "Protocol Preferences" bug AGAIN (bug introduced again in 19291)
------------------------------------------------------------------------
r19370 | ulfl | 2006-09-29 15:48:38 -0700 (Fri, 29 Sep 2006) | 5 lines
Changed paths:
   M /trunk/epan/prefs-int.h
   M /trunk/epan/prefs.c
   M /trunk/epan/prefs.h
   M /trunk/gtk/prefs_dlg.c

from Stephen Fisher:

Attached is a patch for consideration that changes the title in the 
preferences notebook to be the full description of the preference (but 
leaves the short name in the preferences list on the left).
------------------------------------------------------------------------
r19371 | sahlberg | 2006-09-29 17:31:36 -0700 (Fri, 29 Sep 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fc.h
   M /trunk/epan/dissectors/packet-scsi-osd.c

scsi osd additions

we also need to track the serviceaction in the itlq structure so we can decode the data in/out properly


------------------------------------------------------------------------
r19372 | ulfl | 2006-09-29 17:45:03 -0700 (Fri, 29 Sep 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

that wasn't a typo, xcopy can't rename files that way
------------------------------------------------------------------------
r19373 | sahlberg | 2006-09-29 18:01:57 -0700 (Fri, 29 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iscsi.c

scsi opcode 0x7f is variable length   so dont clamp the cdb length to 16 bytes


------------------------------------------------------------------------
r19374 | sahlberg | 2006-09-29 21:10:28 -0700 (Fri, 29 Sep 2006) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fc.c
   M /trunk/epan/dissectors/packet-fc.h
   M /trunk/epan/dissectors/packet-iscsi.c
   M /trunk/epan/dissectors/packet-ndmp.c
   M /trunk/epan/dissectors/packet-scsi-osd.c

add an extra_data pointer to the itlq structure where specific commandsets/cdbs can hang additional data that are unique to that commandset/cdb


make the scsi osd service action and getsetattributetype use this facility

furhter enhancements to scsi osd


------------------------------------------------------------------------
r19375 | ulfl | 2006-09-30 02:15:15 -0700 (Sat, 30 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

remove a warning
------------------------------------------------------------------------
r19376 | sahlberg | 2006-09-30 02:34:58 -0700 (Sat, 30 Sep 2006) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iscsi.c
   M /trunk/epan/dissectors/packet-scsi-osd.c

scsi osd updates


iscsi: when iscsi transfers a cdb that is alrger than 16 bytes,  the first 16 bytes are transferred in the normal place in the header and ther remainder of the cdb is transported inside the AHS.

reassemble these cdb into a proper tvb before passing it to the scsi dissector



------------------------------------------------------------------------
r19377 | ulfl | 2006-09-30 02:45:51 -0700 (Sat, 30 Sep 2006) | 7 lines
Changed paths:
   A /trunk/plugins/Custom.nmake.example
   M /trunk/plugins/Makefile.nmake

"Pluggable custom makefile"
A custom plugin (not yet to be released to the public) can be added to Makefile.nmake easily. But this has a drawback:
The modified Makefile.nmake appears as a modified file in the commit list and in generated patches (this annoyed me for years).

To solve this I've added a plugin like mechanism which calls a Custom.nmake file for each target (if the file is existing). I've also added a Custom.nmake.example for a quick start.

I don't know how to do this for the Makefile.am, so I leave this as an exercise for the interested reader ;-)
------------------------------------------------------------------------
r19378 | sahlberg | 2006-09-30 03:08:43 -0700 (Sat, 30 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

finish off the remainder of FORMAT OSD   for scsi osd dissector


------------------------------------------------------------------------
r19379 | sahlberg | 2006-09-30 03:24:23 -0700 (Sat, 30 Sep 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

 add dissection of SCSI OSD CREATE PARTITION


------------------------------------------------------------------------
r19380 | gal | 2006-09-30 05:58:52 -0700 (Sat, 30 Sep 2006) | 3 lines
Changed paths:
   M /trunk/packaging/u3/win32/makefile.nmake

Update for latest lua changes.


------------------------------------------------------------------------
r19381 | ulfl | 2006-09-30 06:25:05 -0700 (Sat, 30 Sep 2006) | 1 line
Changed paths:
   M /trunk/plugins/Custom.nmake.example

we don't need to .. the dirs for the clean targets here
------------------------------------------------------------------------
r19382 | ulfl | 2006-09-30 06:40:36 -0700 (Sat, 30 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

remove compiler warnings
------------------------------------------------------------------------
r19383 | gal | 2006-09-30 07:37:09 -0700 (Sat, 30 Sep 2006) | 5 lines
Changed paths:
   M /trunk/asn1/logotype-cert-extn/logotype-cert-extn.cnf
   M /trunk/asn1/x509ce/x509ce-exp.cnf
   M /trunk/asn1/x509ce/x509ce.cnf
   M /trunk/epan/dissectors/packet-logotypecertextn.c
   M /trunk/epan/dissectors/packet-x509ce.c
   M /trunk/epan/proto.h
   M /trunk/gtk/proto_draw.c

A new field information flag, FI_URL, to indicate a field contains a URL.
This is used to display the field underlined and to allow the user to double-click on it (like FT_FRAMENUM) to open the URL in the configured browser. 
Example usage in the x509ce and logotype certificate extensions. 


------------------------------------------------------------------------
r19384 | ulfl | 2006-09-30 07:57:50 -0700 (Sat, 30 Sep 2006) | 1 line
Changed paths:
   M /trunk/gtk/proto_draw.c

add a missing #include
------------------------------------------------------------------------
r19385 | etxrab | 2006-09-30 08:50:38 -0700 (Sat, 30 Sep 2006) | 3 lines
Changed paths:
   M /trunk/asn1/umts_rrc/Makefile
   M /trunk/asn1/umts_rrc_Internode-defs/Makefile
   M /trunk/asn1/umts_rrc_ies/Makefile
   M /trunk/asn1/umts_rrc_pdu_def/Makefile

From Reinhard Speyerer:
Update asn1/umts_rrc*/Makefile
for the renamed asn2eth.py -> asn2wrs.py.
------------------------------------------------------------------------
r19386 | ulfl | 2006-09-30 11:30:43 -0700 (Sat, 30 Sep 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

fix a typo
------------------------------------------------------------------------
r19387 | sahlberg | 2006-09-30 13:40:04 -0700 (Sat, 30 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iscsi.c

the ahs length inside the AHS for an extended cdb includes the reserved byte before the start of cdb data

account for this extra reserved byte in the ahs length so that the reconstructed cdb has the correct length and does not contain one extra byte at the end



------------------------------------------------------------------------
r19388 | sahlberg | 2006-09-30 14:08:27 -0700 (Sat, 30 Sep 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

add dissection of the cdb for service action LIST
(but no decoding of the data in yet)



------------------------------------------------------------------------
r19389 | sahlberg | 2006-09-30 14:49:11 -0700 (Sat, 30 Sep 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iscsi.c

fix for header digest detection being broken when AHS is used.


we simply forgot to account for the AHS when testing to calculate the crc


------------------------------------------------------------------------
r19390 | ulfl | 2006-10-01 10:59:30 -0700 (Sun, 01 Oct 2006) | 1 line
Changed paths:
   M /trunk/filters.c
   M /trunk/filters.h
   M /trunk/gtk/filter_dlg.c

Change the filter dialog (capture and display filters), so it has a real Cancel button now - the former Close button didn't reverted the changes done.
------------------------------------------------------------------------
r19391 | ulfl | 2006-10-01 12:34:03 -0700 (Sun, 01 Oct 2006) | 1 line
Changed paths:
   M /trunk/gtk/filter_dlg.c

If the Cancel button was clicked and another filter dialog is still open - yes that's possible - reverse the changes on it as well to reflect the current internal list.
------------------------------------------------------------------------
r19392 | ulfl | 2006-10-01 17:13:14 -0700 (Sun, 01 Oct 2006) | 1 line
Changed paths:
   M /trunk/color_filters.h
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/color_dlg.c
   A /trunk/gtk/color_edit_dlg.c
   A /trunk/gtk/color_edit_dlg.h

various (huge) code cleanup incl. splitting of the coloring dialog and the actual color rule edit dialog into two files - this makes the things much more clearer now (at least for me)
------------------------------------------------------------------------
r19393 | martinm | 2006-10-02 03:49:57 -0700 (Mon, 02 Oct 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rtp.c

Set correct length for extensions root
------------------------------------------------------------------------
r19394 | martinm | 2006-10-02 06:38:13 -0700 (Mon, 02 Oct 2006) | 1 line
Changed paths:
   M /trunk/gtk/menu.c

Don't show Tools menu at all if Lua not present
------------------------------------------------------------------------
r19395 | ulfl | 2006-10-02 12:07:01 -0700 (Mon, 02 Oct 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

as noted by Anders Broman: the Win2000 version of copy don't like the /d switch
------------------------------------------------------------------------
r19396 | tuexen | 2006-10-02 12:26:53 -0700 (Mon, 02 Oct 2006) | 2 lines
Changed paths:
   M /trunk/capture_loop.c

Do not show the Windows specific message on non-Windows systems.

------------------------------------------------------------------------
r19397 | ulfl | 2006-10-02 13:59:38 -0700 (Mon, 02 Oct 2006) | 1 line
Changed paths:
   M /trunk/gtk/filter_dlg.c

instead of reverting the whole changes by the *first* cancelled dialog box, revert them by clicking "Cancel" on the *last* dialog - this behaviour just makes more sense.
------------------------------------------------------------------------
r19398 | ulfl | 2006-10-02 14:55:26 -0700 (Mon, 02 Oct 2006) | 2 lines
Changed paths:
   M /trunk/color_filters.c

refactor apply_color_filter() as it was a bit confusing - it will also be a bit faster now -
and some other minor code cleanup
------------------------------------------------------------------------
r19399 | ulfl | 2006-10-02 16:01:33 -0700 (Mon, 02 Oct 2006) | 1 line
Changed paths:
   M /trunk/color_filters.c
   M /trunk/color_filters.h
   M /trunk/gtk/color_dlg.c

further code cleanup: don't use the term "marked" for the color filters, the right term is "selected". That caused me "concerns" wether the marked feature of the packet list was involved - which is actually not
------------------------------------------------------------------------
r19400 | ulfl | 2006-10-02 16:11:55 -0700 (Mon, 02 Oct 2006) | 1 line
Changed paths:
   M /trunk/gtk/capture_file_dlg.c
   M /trunk/gtk/color_dlg.h

missing mark -> select changes
------------------------------------------------------------------------
r19401 | gerald | 2006-10-02 16:44:10 -0700 (Mon, 02 Oct 2006) | 4 lines
Changed paths:
   M /trunk/airpcap.h
   M /trunk/airpcap_loader.c
   M /trunk/airpcap_loader.h
   M /trunk/config.nmake
   M /trunk/configure.in
   M /trunk/gtk/airpcap_dlg.c
   M /trunk/gtk/airpcap_gui_utils.c
   M /trunk/gtk/airpcap_gui_utils.h
   M /trunk/gtk/capture_dlg.c
   M /trunk/gtk/keys.h

Fix WEP key bug in the AirPcap code that could cause a crash.  Enable
AirPcap by default. Add initial support for the "Any" device in AirPcap
(more to come).

------------------------------------------------------------------------
r19402 | etxrab | 2006-10-02 22:48:47 -0700 (Mon, 02 Oct 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vnc.c

From Stephen Fisher:
Modifie the VNC dissector to desegment 
the "server cut text" message type for cases where the cut text is in 
the next tcp segment from the first part of the message.
------------------------------------------------------------------------
r19403 | etxrab | 2006-10-02 22:50:28 -0700 (Mon, 02 Oct 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-newmail.c

From Stephen Fisher:
always register 
itself on the port from the preferences (defaults to 0) upon launch.  
This allows the user to right-click and use decode as.
------------------------------------------------------------------------
r19404 | lego | 2006-10-03 05:07:10 -0700 (Tue, 03 Oct 2006) | 7 lines
Changed paths:
   M /trunk/epan/funnel.h
   M /trunk/epan/wslua/wslua_gui.c
   M /trunk/gtk/funnel_stat.c
   M /trunk/tap-funnel.c

more Lua APIs:
- set_filter() : sets the main window filter
- reload() : reloads the current capture file
- copy_to_clipboard() : copies its first arfg to the clipboard
- open_capture_file() : opens a capture file for viewing (still broken)


------------------------------------------------------------------------
r19405 | martinm | 2006-10-03 07:21:07 -0700 (Tue, 03 Oct 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c
   M /trunk/wiretap/catapult_dct2000.c

- Add special case for reading strange encoding of ATM CID field
- Indicate direction of DCH Data in info column
- Assume EDCH payload CRC if 2 bytes are left over (previous test was broken)

------------------------------------------------------------------------
r19406 | lego | 2006-10-03 07:27:45 -0700 (Tue, 03 Oct 2006) | 5 lines
Changed paths:
   M /trunk/epan/funnel.h
   M /trunk/epan/wslua/Makefile.am
   M /trunk/epan/wslua/make-reg.pl
   M /trunk/epan/wslua/wslua.h
   M /trunk/epan/wslua/wslua_gui.c
   M /trunk/gtk/funnel_stat.c
   M /trunk/tap-funnel.c

- Make sure that the registration files are created whenever there's a change
- get rid of 5.0.2 stuff
- add the apply_filter() API


------------------------------------------------------------------------
r19407 | lego | 2006-10-03 10:24:28 -0700 (Tue, 03 Oct 2006) | 10 lines
Changed paths:
   M /trunk/asn1/h248/MEGACO.asn
   M /trunk/asn1/h248/h248.cnf
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/asn1/h248/packet-h248-template.h
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-h248.h
   A /trunk/epan/dissectors/packet-h248_3gpp.c
   A /trunk/epan/dissectors/packet-h248_annex_c.c
   A /trunk/epan/dissectors/packet-h248_annex_e.c

H.248 packages...

few things to be fixed:
- // comments,
- not every hf_xxx used might be registered

some packages from the current h248 dissector are still missing.



------------------------------------------------------------------------
r19408 | etxrab | 2006-10-03 11:04:15 -0700 (Tue, 03 Oct 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-xml.c

Add application/media_control+xml
------------------------------------------------------------------------
r19409 | lego | 2006-10-03 11:07:31 -0700 (Tue, 03 Oct 2006) | 3 lines
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c

MSVCC does not like mixing code and variable declarations


------------------------------------------------------------------------
r19410 | etxrab | 2006-10-03 11:11:55 -0700 (Tue, 03 Oct 2006) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c
   M /trunk/epan/dissectors/packet-bacapp.h

From  David Richards:
numerous changes, most notably:

1) BACnetStatusFlags is bit string, not enum, in NotificationParameters
2) Fixes many places where enclosing context tags were not handled properly.
3) Simplify tag decoding logic.  Change to explicit decoding in many 
instances rather
    than read tags in a loop and do a switch based on tag number.  Looping
    ignores out-of-order and other types of tagging errors.
------------------------------------------------------------------------
r19411 | lego | 2006-10-03 11:24:08 -0700 (Tue, 03 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/wslua/Makefile.nmake

Update nmakefile to latest changes.


------------------------------------------------------------------------
r19412 | lego | 2006-10-03 11:38:04 -0700 (Tue, 03 Oct 2006) | 4 lines
Changed paths:
   M /trunk/asn1/h248/h248.cnf
   M /trunk/epan/dissectors/packet-h248.c

Get it to compile...



------------------------------------------------------------------------
r19413 | ulfl | 2006-10-03 11:39:36 -0700 (Tue, 03 Oct 2006) | 8 lines
Changed paths:
   M /trunk/color_filters.c
   M /trunk/color_filters.h
   M /trunk/file.c
   M /trunk/gtk/capture_file_dlg.c
   M /trunk/gtk/color_dlg.c
   M /trunk/gtk/win32-file-dlg.c
   M /trunk/gtk/win32-file-dlg.h

Implement a real "Cancel" button for the coloring rules dialog - this was a hard one! It seems to be working without bugs and as designed now.

As this was a huge internal change, new bugs are very probable - please report.

The implementation isn't still perfect, a new dialog internal list could possibly be removed again. 

However, I want to check in at this condition, just in case I make things worse - again.

------------------------------------------------------------------------
r19414 | etxrab | 2006-10-03 12:24:22 -0700 (Tue, 03 Oct 2006) | 3 lines
Changed paths:
   M /trunk/asn1/tcap/packet-tcap-template.c
   M /trunk/epan/dissectors/packet-tcap.c

From Florent.Drouin@alcatel.fr:
I did improve the OID management in the tcap dissector.
Now, when a tcap message is reveived, without upper layer, the ACN is saved in the TCAP context, and can be used for the next messages of the dialogue. It is used only when the upper layer session is opened with Tcap only messages.
------------------------------------------------------------------------
r19415 | ulfl | 2006-10-03 12:53:10 -0700 (Tue, 03 Oct 2006) | 11 lines
Changed paths:
   M /trunk/epan/prefs.c
   M /trunk/epan/prefs.h
   M /trunk/gtk/color_dlg.c
   M /trunk/gtk/filter_dlg.c
   M /trunk/gtk/gui_prefs.c
   M /trunk/gtk/prefs_dlg.c
   M /trunk/gtk/proto_dlg.c

now: Don't have a Save button in the following settings dialogs:

- Edit/Preferences
- View/Coloring Rules
- Capture/Capture Filters
- Analyze/Display Filters
- Analyze/Enabled Protocols

The settings will be automatically saved when pressing the Ok button.

If someone really wants the explicit Save buttons as before - you can get them back at the Edit/Preferences/User Interface page.
------------------------------------------------------------------------
r19416 | ulfl | 2006-10-03 13:01:39 -0700 (Tue, 03 Oct 2006) | 1 line
Changed paths:
   M /trunk/gtk/capture_file_dlg.c

the whole ARGUMENT_CL mimic isn't required any longer - remove it. This should fix compile problems under Unix.
------------------------------------------------------------------------
r19417 | ulfl | 2006-10-03 13:11:08 -0700 (Tue, 03 Oct 2006) | 1 line
Changed paths:
   M /trunk/gtk/color_dlg.c

fix a bug in the export function
------------------------------------------------------------------------
r19418 | ulfl | 2006-10-03 14:03:08 -0700 (Tue, 03 Oct 2006) | 1 line
Changed paths:
   M /trunk/gtk/color_dlg.c
   M /trunk/gtk/filter_dlg.c
   M /trunk/gtk/prefs_dlg.c
   M /trunk/gtk/proto_dlg.c

As Stephen Fisher noted, the Apply button should also save the changed settings (if the Save button is disabled)
------------------------------------------------------------------------
r19419 | ulfl | 2006-10-03 14:25:16 -0700 (Tue, 03 Oct 2006) | 1 line
Changed paths:
   M /trunk/epan/prefs.c

"saying your preferences once ..." -> "applying your preferences once ..."
------------------------------------------------------------------------
r19420 | etxrab | 2006-10-03 15:12:47 -0700 (Tue, 03 Oct 2006) | 9 lines
Changed paths:
   A /trunk/epan/camel-persistentdata.c
   A /trunk/epan/camel-persistentdata.h
   A /trunk/gtk/camel_counter.c
   A /trunk/gtk/camel_srt.c
   A /trunk/tap-camelcounter.c
   A /trunk/tap-camelsrt.c

From Florent.Drouin@alcatel.fr:
Please find two new TAP for Camel Statistics.
The first one updates  counters related to camel operations. It is located in the GSM submenu. The second one , named Camel Service Response Time, gives the time ellapsed between a couple of camel specifics operations. (For example InitialDP/Continue or InitialDP GPRS/Continue GPRS). With Wireshark, you can have the Min/Max/Mean delay time for your traces files, and with Tshark, you have the additional information for percentile (1%,95% 99% etc )

To enable the use of the Camel statistics, you have 2 new parameters in the preferences,
- SRT, enable the service Response Time calculation.
- persistentSRT, keep the data in a context, even after the  camel session has been closed. This is mandatory with Wireshark, to have a clean display of the stats.

Only the new files checked in for now because of include problems.
------------------------------------------------------------------------
r19421 | ulfl | 2006-10-03 15:32:03 -0700 (Tue, 03 Oct 2006) | 3 lines
Changed paths:
   M /trunk/color_filters.c
   M /trunk/file.c

changes of the coloring rules sometimes crashed as dissection keeps pointers to the color_filter for later reference -> simply deleting the filters leave the pointers invalid  -> crash.

for now, don't delete the filters but keep them floating around in memory (leaking) -> at least better than crashing
------------------------------------------------------------------------
r19422 | ulfl | 2006-10-03 16:24:48 -0700 (Tue, 03 Oct 2006) | 1 line
Changed paths:
   M /trunk/color_filters.c
   M /trunk/color_filters.h
   M /trunk/file.c

fix the memory leak problem mentioned lately by adding and using color_filters_cleanup()
------------------------------------------------------------------------
r19423 | ulfl | 2006-10-03 16:32:51 -0700 (Tue, 03 Oct 2006) | 7 lines
Changed paths:
   M /trunk/epan/wslua/Makefile.am

an attempt to fix the Ubuntu buildbot:

ERROR: files left in build directory after distclean:
./epan/wslua/declare_wslua.h
./epan/wslua/register_wslua.c

Louis, could you have a look - I might have produced a mess :-)
------------------------------------------------------------------------
r19424 | etxrab | 2006-10-04 00:18:58 -0700 (Wed, 04 Oct 2006) | 6 lines
Changed paths:
   M /trunk/epan/camel-persistentdata.c
   M /trunk/epan/camel-persistentdata.h
   M /trunk/tap-camelsrt.c

Got rid of some errors but 1 remains:
libui.lib(camel_srt.obj) : error LNK2001: unresolved external symbol _camelSRTt
pe_naming
wireshark.exe : fatal error LNK1120: 1 unresolved externals
NMAKE : fatal error U1077: 'link' : return code '0x460'
Stop.
------------------------------------------------------------------------
r19425 | lego | 2006-10-04 07:37:46 -0700 (Wed, 04 Oct 2006) | 7 lines
Changed paths:
   M /trunk/epan/wslua/Makefile.am
   M /trunk/epan/wslua/template-init.lua
   M /trunk/epan/wslua/wslua_field.c
   M /trunk/epan/wslua/wslua_gui.c
   M /trunk/epan/wslua/wslua_util.c

- wslua_util.c:  replace Lua's loadfile and dofile for versions that will try to open the file in perscofdir then  dataconfdir if there's no such file in cwd
- wslua_field.c: avoid FieldInfo:__tostring() crashing when the ftype has no val_to_string_repr
- init.lua: inform the user that a packet has been disabled, intead of a cryptic "attemt to call nil"
- Makefile.am: add register_wslua.c and declare_wslua.h to MAINTAINERCLEANFILES
- wslua_gui.c: fix a typo


------------------------------------------------------------------------
r19426 | lego | 2006-10-04 08:31:31 -0700 (Wed, 04 Oct 2006) | 3 lines
Changed paths:
   M /trunk/asn1/h248/h248.cnf
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-h248_annex_c.c
   M /trunk/epan/dissectors/packet-h248_annex_e.c

more cleanup... almost there...


------------------------------------------------------------------------
r19427 | etxrab | 2006-10-04 09:02:59 -0700 (Wed, 04 Oct 2006) | 1 line
Changed paths:
   M /trunk/Makefile.common
   M /trunk/asn1/camel/packet-camel-template.c
   M /trunk/epan/Makefile.common
   M /trunk/epan/camel-persistentdata.h
   M /trunk/epan/dissectors/packet-camel.c
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/Makefile.common

Finally got it to complie.
------------------------------------------------------------------------
r19428 | etxrab | 2006-10-04 10:36:40 -0700 (Wed, 04 Oct 2006) | 3 lines
Changed paths:
   M /trunk/wiretap/iseries.c

From Martin Warnes:
The patch addresses issues with higher precision packet
timings on top end iSeries hardware and should enable the iseries wiretap to handle timings in both micro and nano seconds.
------------------------------------------------------------------------
r19429 | etxrab | 2006-10-04 10:43:52 -0700 (Wed, 04 Oct 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-mip6.h

From Nicolas DICHTEL:
M flag isn't for MCOA, but for HMIP (RFC4140 Section 4.1).
------------------------------------------------------------------------
r19430 | etxrab | 2006-10-04 11:00:32 -0700 (Wed, 04 Oct 2006) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-linx.c

From Martin Peylo:

dissector for Enea's LINX protocol?

A protocol spec is available at <http://www.enea.com/templates/Extension____8947.aspx>. The source of the kernel module could be obtained from Enea by sending a request to "linx at enea dot com".

Currently they use ethertype 0x9999 which is not registered at IEEE.
------------------------------------------------------------------------
r19431 | gal | 2006-10-04 11:08:51 -0700 (Wed, 04 Oct 2006) | 3 lines
Changed paths:
   M /trunk/Makefile.nmake

Patch for clean, distclean and maintainer-clean targets for U3 packaging.


------------------------------------------------------------------------
r19432 | lego | 2006-10-04 11:45:26 -0700 (Wed, 04 Oct 2006) | 8 lines
Changed paths:
   M /trunk/epan/wslua/wslua_gui.c
   M /trunk/gtk/funnel_stat.c

Misterious bug with cf_read() solved... had nothing to do with cf_read :)

the callback data for TextWindow buttons was ep_allocated!
after cf_read() it was reused and so it was rewritten...

fix that making it g_malloced instead.


------------------------------------------------------------------------
r19433 | gerald | 2006-10-04 13:53:18 -0700 (Wed, 04 Oct 2006) | 2 lines
Changed paths:
   M /trunk/configure.in

Fix the version.

------------------------------------------------------------------------
r19434 | etxrab | 2006-10-04 14:52:35 -0700 (Wed, 04 Oct 2006) | 6 lines
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-h248.h

Put back the bugfixes froim Revision 19190/19356
Fix bug http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1091

"h248_handle was declared localy, udp port was not added at register.

Added a few more packagenames."
------------------------------------------------------------------------
r19435 | jake | 2006-10-04 15:01:58 -0700 (Wed, 04 Oct 2006) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-linx.c

Make provisional ETHERTYPE dependant on registered ETHERTYPE
Remove preferences stuff
Use stringz for variable length names
Media address size independant
Removed generated item
Set actual length of packet
Make info column work without coloring rules or filters
------------------------------------------------------------------------
r19436 | etxrab | 2006-10-04 15:43:38 -0700 (Wed, 04 Oct 2006) | 1 line
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/asn1/h248/packet-h248-template.h
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-h248.h
   M /trunk/epan/dissectors/packet-h248_3gpp.c
   M /trunk/epan/dissectors/packet-h248_annex_c.c
   M /trunk/epan/dissectors/packet-h248_annex_e.c

Added the possibillity of Statistic pkg as well.
------------------------------------------------------------------------
r19437 | etxrab | 2006-10-04 15:49:40 -0700 (Wed, 04 Oct 2006) | 2 lines
Changed paths:
   M /trunk/plugins/megaco/packet-megaco.c

Start to make the output from the dissector more like the actual
data.
------------------------------------------------------------------------
r19438 | jake | 2006-10-05 04:35:41 -0700 (Thu, 05 Oct 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-kerberos.c

Patch in bug 1149, adds DCE-style flag for gss-api

------------------------------------------------------------------------
r19439 | martinm | 2006-10-05 07:10:10 -0700 (Thu, 05 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-umts_fp.c

Make IPPrim based addresses filterable (mirroring ip/udp/tcp filter names).
Add some if (tree) tests to try to avoid doing extra work (large FP captures can be very slow to load).

------------------------------------------------------------------------
r19440 | lego | 2006-10-05 09:25:13 -0700 (Thu, 05 Oct 2006) | 4 lines
Changed paths:
   M /trunk/epan/funnel.h
   M /trunk/epan/wslua/wslua_gui.c
   M /trunk/gtk/funnel_stat.c

have the funnel client passing the destructors for btn data structures to the funnel.
Although useless in practice, it is better to implement it this way... the funnel mini gui might be used by other modules in the future.


------------------------------------------------------------------------
r19441 | etxrab | 2006-10-05 14:37:45 -0700 (Thu, 05 Oct 2006) | 1 line
Changed paths:
   M /trunk/plugins/Makefile.nmake

Remove entries for the lua plugin as it's not used any more.
------------------------------------------------------------------------
r19442 | gerald | 2006-10-06 10:39:39 -0700 (Fri, 06 Oct 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.common

Add airpcap.h to the distribution.

------------------------------------------------------------------------
r19443 | gerald | 2006-10-06 10:50:51 -0700 (Fri, 06 Oct 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Add the u3 packaging directory to the distribution.

------------------------------------------------------------------------
r19444 | jake | 2006-10-06 12:18:55 -0700 (Fri, 06 Oct 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bgp.c

From Aaron Campbell:
The expression (BGP_OSPF_RTYPE_EXT ||BGP_OSPF_RTYPE_NSSA) will always
evaluate to 1.  As well, neither of these constants are defined as flag
values, so a bitwise op was probably not intended either.
------------------------------------------------------------------------
r19445 | etxrab | 2006-10-06 12:48:00 -0700 (Fri, 06 Oct 2006) | 2 lines
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-h248_annex_c.c
   M /trunk/epan/dissectors/packet-h248_annex_e.c
   M /trunk/epan/dissectors/packet-isup.c

Add a few packages and fix dissecton of a_codecs and handle the case when
hf_param = -1.
------------------------------------------------------------------------
r19446 | jmayer | 2006-10-07 07:24:32 -0700 (Sat, 07 Oct 2006) | 9 lines
Changed paths:
   M /trunk/config.nmake
   M /trunk/gtk/Makefile.nmake
   M /trunk/gtk/rtp_player.c

Alejandro Vaquero:
	Add portaudio v19 support in addition to v18:

   Here is a patch using the API 2 (v19). I tested it only in Windows.
Attached also the Windows v19 zip file used. I did not modify the
Makefile.nmake to download this new version (when running the "setup"),
because Windows v18 it is still good.


------------------------------------------------------------------------
r19447 | jmayer | 2006-10-07 07:48:04 -0700 (Sat, 07 Oct 2006) | 14 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-ethertype.c
   A /trunk/epan/dissectors/packet-wlccp.c
   M /trunk/epan/etypes.h

Stephen Fisher:
	packet-cisco-wireless.c is actually trying to dissect WLCCP:

I have attached a dissector I wrote from scratch for the
frames that I'm seeing.  It has #defines for the field offsets and
lengths so it should be easier to merge.  I also attached a sample
capture with one of the frames that I'm seeing.  There are more fields
in the frame I haven't yet figured out, hopefully your dissector has
those that I'm missing.

Me: - Commented in wlccp over udp as well, it works most of the time.
    - Leave the file packet-cisco-wireless.c in for the time being to
      copy over knowledge until no usable info is left in the file.

------------------------------------------------------------------------
r19448 | ulfl | 2006-10-07 15:41:17 -0700 (Sat, 07 Oct 2006) | 1 line
Changed paths:
   M /trunk/airpcap_loader.c

don't crash, if airpcap.dll isn't available
------------------------------------------------------------------------
r19449 | sahlberg | 2006-10-07 21:13:18 -0700 (Sat, 07 Oct 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iscsi.c
   M /trunk/epan/dissectors/packet-scsi-osd.c

scsi: unusual scsi protocols can request multiple AHS fields for iscsi   so decode the AHS properly instead of assuming at most one field is present

scsi-osd   add dissection of  LIST data pdus  and  CREATE cdb


------------------------------------------------------------------------
r19450 | sahlberg | 2006-10-07 21:48:24 -0700 (Sat, 07 Oct 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

scsi osd
collapse attripute parameters, capability and security parameters into subtrees to make the display easier to read


------------------------------------------------------------------------
r19451 | jake | 2006-10-08 00:54:06 -0700 (Sun, 08 Oct 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ssl.c

Fix for bug 1153, typos in debug output
------------------------------------------------------------------------
r19452 | sahlberg | 2006-10-08 12:11:39 -0700 (Sun, 08 Oct 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

dissect attribute get/set data in data in/out blobs and display them for now as a blob.



------------------------------------------------------------------------
r19453 | sahlberg | 2006-10-08 12:54:01 -0700 (Sun, 08 Oct 2006) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

add some more SCSI OSD command dissectors

REMOVE
REMOVE PARTITION
REMOVE COLELCTION
SET KEY


------------------------------------------------------------------------
r19454 | etxrab | 2006-10-08 13:57:20 -0700 (Sun, 08 Oct 2006) | 4 lines
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-isup.c
   M /trunk/epan/dissectors/packet-isup.h

H248:
Lost a line in last commit.

ISUP Export a value string.
------------------------------------------------------------------------
r19455 | ulfl | 2006-10-08 15:24:46 -0700 (Sun, 08 Oct 2006) | 3 lines
Changed paths:
   M /trunk/test/config.sh
   M /trunk/test/suite-capture.sh

change the binary path to current windows debug dir: wireshark-gtk2

don't use promiscuous mode as default (my Win32 WLAN card won't capture any packets with it - might probably be better for other users as well)
------------------------------------------------------------------------
r19456 | ulfl | 2006-10-08 15:39:23 -0700 (Sun, 08 Oct 2006) | 6 lines
Changed paths:
   M /trunk/capture_loop.c
   M /trunk/capture_loop.h
   M /trunk/tshark.c

from Richard van der Hoff:
> [tshark from a fifo]
> Ulf - I notice you made the relevant change here (r16787) - is there any reason why tshark shouldn't use capture_loop_dispatch to do its processing, rather than attempting to use cap_pipe_dispatch or pcap_dispatch directly?

well, there didn't seem to be, so I've made a patch which does exactly this, and which fixes the problem.

------------------------------------------------------------------------
r19457 | ulfl | 2006-10-08 15:57:32 -0700 (Sun, 08 Oct 2006) | 5 lines
Changed paths:
   M /trunk/test/config.sh
   M /trunk/test/suite-capture.sh

from Richard van der Hoff:
[tshark from a fifo]
I've even gone so far as to add a unit test for it

ULFL: as mkfifo isn't available on Win32 (not even cygwin), make this test configurable in config.sh
------------------------------------------------------------------------
r19458 | wmeier | 2006-10-08 19:07:44 -0700 (Sun, 08 Oct 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

If GTK1_DIR or GTK2_DIR not defined, then corresponding install-common-deps should not be invoked....
------------------------------------------------------------------------
r19459 | kukosa | 2006-10-08 23:24:03 -0700 (Sun, 08 Oct 2006) | 1 line
Changed paths:
   M /trunk/tools/lex.py
   M /trunk/tools/yacc.py

Ply updated to version 2.1
------------------------------------------------------------------------
r19460 | sahlberg | 2006-10-09 01:31:04 -0700 (Mon, 09 Oct 2006) | 12 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-scsi-osd.c

from Joe Breher

This patch fixes a transposition of the orders of
Set Attribute Number
Set Attribute Length
In the page oriented get and set attributes CDB parameters format
Ref SCSI-OSD T10/1355-D Revision 10 section 5.2.2.2





------------------------------------------------------------------------
r19461 | gerald | 2006-10-09 11:47:42 -0700 (Mon, 09 Oct 2006) | 10 lines
Changed paths:
   M /trunk/test/config.sh
   M /trunk/test/suite-capture.sh
   M /trunk/test/suite-clopts.sh
   M /trunk/test/test-backend.sh
   M /trunk/test/test.sh

Make preparations for running under Buildbot:

  - Check for an "all" argument at startup.  If it's present,
    then proceed with testing.

  - Add a platform check.  Use it to handle cases where we can't run
    as a normal user, e.g. trying to capture under Linux.

  - Add a "Skipped" result.

------------------------------------------------------------------------
r19462 | sahlberg | 2006-10-09 12:35:36 -0700 (Mon, 09 Oct 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

From Joe Breher

dissect the permission bits in the capability blob



------------------------------------------------------------------------
r19463 | etxrab | 2006-10-09 13:22:31 -0700 (Mon, 09 Oct 2006) | 1 line
Changed paths:
   A /trunk/asn1/h248/h248v3.asn

Add ASN1 for H248 v3. The aim is to replace the current asn1 file after some more testing.
------------------------------------------------------------------------
r19464 | gerald | 2006-10-09 13:31:48 -0700 (Mon, 09 Oct 2006) | 2 lines
Changed paths:
   M /trunk/test/test-backend.sh
   M /trunk/test/test.sh

Return 1 on failure.

------------------------------------------------------------------------
r19465 | ulfl | 2006-10-09 15:32:50 -0700 (Mon, 09 Oct 2006) | 1 line
Changed paths:
   M /trunk/epan/wslua/Makefile.nmake

add some missing files to the clean target
------------------------------------------------------------------------
r19466 | gerald | 2006-10-09 16:28:30 -0700 (Mon, 09 Oct 2006) | 3 lines
Changed paths:
   M /trunk/test/config.sh

Pick up TRAFFIC_CAPTURE_IFACE from the environment if it's set, otherwise
use a default value.

------------------------------------------------------------------------
r19467 | gerald | 2006-10-09 17:28:53 -0700 (Mon, 09 Oct 2006) | 5 lines
Changed paths:
   M /trunk/airpcap.h
   M /trunk/airpcap_loader.h
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/prefs.c
   M /trunk/epan/prefs.h

First step in integrating the AirPcap WEP preferences with those
from the 802.11 dissector.  Use a #define for the maximum number of
WEP keys.  Use AirPcap's if we have it (64).  Rename find_module()
prefs_find_module() and make it public.

------------------------------------------------------------------------
r19468 | gerald | 2006-10-09 17:30:49 -0700 (Mon, 09 Oct 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Remove a leftover printf.

------------------------------------------------------------------------
r19469 | guy | 2006-10-10 00:35:47 -0700 (Tue, 10 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h248_annex_e.c

Get rid of CR's at the ends of lines, set svn:keywords and svn:eol-style
appropriately.

------------------------------------------------------------------------
r19470 | guy | 2006-10-10 01:07:14 -0700 (Tue, 10 Oct 2006) | 2 lines
Changed paths:
   M /trunk/color_filters.c

Fix some compiler warnings.

------------------------------------------------------------------------
r19471 | guy | 2006-10-10 01:08:17 -0700 (Tue, 10 Oct 2006) | 2 lines
Changed paths:
   M /trunk/tap-funnel.c

Squelch a compiler warning, and clean up indentation.

------------------------------------------------------------------------
r19472 | guy | 2006-10-10 01:09:11 -0700 (Tue, 10 Oct 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-linx.c

Get rid of an unused variable.

------------------------------------------------------------------------
r19473 | guy | 2006-10-10 01:10:42 -0700 (Tue, 10 Oct 2006) | 2 lines
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c

Clean up some compiler warnings.

------------------------------------------------------------------------
r19474 | guy | 2006-10-10 01:12:04 -0700 (Tue, 10 Oct 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Squelch a compiler warning.

------------------------------------------------------------------------
r19475 | guy | 2006-10-10 01:12:40 -0700 (Tue, 10 Oct 2006) | 2 lines
Changed paths:
   M /trunk/epan/camel-persistentdata.c

Include "epan/tap.h" to declare a function we use.

------------------------------------------------------------------------
r19476 | guy | 2006-10-10 01:13:16 -0700 (Tue, 10 Oct 2006) | 3 lines
Changed paths:
   M /trunk/gtk/color_dlg.c

Get rid of declarations of functions that are no longer defined or used
in this file.

------------------------------------------------------------------------
r19477 | guy | 2006-10-10 01:13:56 -0700 (Tue, 10 Oct 2006) | 2 lines
Changed paths:
   M /trunk/gtk/color_edit_dlg.c

Include <string.h> to declare string functions we use.

------------------------------------------------------------------------
r19478 | jake | 2006-10-10 12:00:50 -0700 (Tue, 10 Oct 2006) | 1 line
Changed paths:
   M /trunk/gtk/main.c
   M /trunk/version_info.c

Don't let PortAudio skip the queue on the about dialog ;)
------------------------------------------------------------------------
r19479 | gerald | 2006-10-10 13:55:38 -0700 (Tue, 10 Oct 2006) | 3 lines
Changed paths:
   M /trunk/test/test-backend.sh
   M /trunk/test/test.sh

Add command-line options: -c disables color, -h prints help, -s runs
a suite.

------------------------------------------------------------------------
r19480 | sahlberg | 2006-10-10 14:00:35 -0700 (Tue, 10 Oct 2006) | 5 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-usb.c
   M /trunk/wiretap/libpcap.c
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

From Paolo Abeni

USB dissector


------------------------------------------------------------------------
r19481 | gerald | 2006-10-10 14:15:19 -0700 (Tue, 10 Oct 2006) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Prep for the 0.99.4 release.

------------------------------------------------------------------------
r19482 | etxrab | 2006-10-10 14:46:44 -0700 (Tue, 10 Oct 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

u_int32_t gives error on Windows assuming guint32 will do.
------------------------------------------------------------------------
r19483 | etxrab | 2006-10-10 14:50:19 -0700 (Tue, 10 Oct 2006) | 1 line
Changed paths:
   D /trunk/epan/dissectors/packet-h248_package_bcp.c
   D /trunk/epan/dissectors/packet-h248_package_bcp.h

Remove no longer used files.
------------------------------------------------------------------------
r19484 | etxrab | 2006-10-10 14:52:52 -0700 (Tue, 10 Oct 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-h248_q1950.c

Add H.248 packet BCP dissecton.
------------------------------------------------------------------------
r19485 | etxrab | 2006-10-10 14:56:10 -0700 (Tue, 10 Oct 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h248_3gpp.c

Fix a typo.
------------------------------------------------------------------------
r19486 | gerald | 2006-10-10 15:46:58 -0700 (Tue, 10 Oct 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipsec.c

Simplify the preference string allocation code.  Shorten the comments,
which (as Ulf pointed out) reduces the size of the prefs file
significantly.

------------------------------------------------------------------------
r19487 | gerald | 2006-10-10 17:37:29 -0700 (Tue, 10 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/prefs.c
   M /trunk/epan/prefs.h

Add prefs_apply(), which lets us apply preferences (specifically,
trigger a module's callback) for a specific module.

------------------------------------------------------------------------
r19488 | etxrab | 2006-10-10 23:11:54 -0700 (Tue, 10 Oct 2006) | 14 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppp.c

From Donald White:
An enhancement to the PPP multiplexing protocol 
dissector in protocol-ppp.c.  There are two changes:

     The protocol id field of the multiplexed sub-frame is added
     to the protocol tree using a header field.  This allows
     filters to select the protocol as is the case when it is not
     multiplexed.  I think this fixes a small bug as the ability to
     filter for a protocol should not depend on the lower level
     protocol.

     When the protocol id of the subframe is not present, the
     appropriate default protocol is displayed with the standard
     indication that Wireshark generated the value.
------------------------------------------------------------------------
r19489 | ulfl | 2006-10-11 00:31:01 -0700 (Wed, 11 Oct 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-media.c

fix #1154: although g_vsnprintf() is called, it don't like a NULL pointer for a %s format string. The following proto_tree_add_text was already fixed.
------------------------------------------------------------------------
r19490 | sahlberg | 2006-10-11 01:18:14 -0700 (Wed, 11 Oct 2006) | 7 lines
Changed paths:
   M /trunk/asn1/ldap/Lightweight-Directory-Access-Protocol-V3.asn
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c

fix for 1148

pretty horrible hack to store an ntlmssp blob inside an ldap string

the info column is not entirely pretty but   the payload is at least decoded


------------------------------------------------------------------------
r19491 | sahlberg | 2006-10-11 02:47:27 -0700 (Wed, 11 Oct 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

from Paolo A

update the usb dissector to reflect the recent change in the pcap format


------------------------------------------------------------------------
r19492 | sahlberg | 2006-10-11 03:38:59 -0700 (Wed, 11 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fc.c
   M /trunk/epan/dissectors/packet-fc.h
   M /trunk/epan/dissectors/packet-fcct.c
   M /trunk/epan/dissectors/packet-fcdns.c
   M /trunk/epan/dissectors/packet-fcels.c
   M /trunk/epan/dissectors/packet-fcfcs.c
   M /trunk/epan/dissectors/packet-fcfzs.c
   M /trunk/epan/dissectors/packet-fclctl.c
   M /trunk/epan/dissectors/packet-fcp.c
   M /trunk/epan/dissectors/packet-fcsb3.c
   M /trunk/epan/dissectors/packet-fcsp.c
   M /trunk/epan/dissectors/packet-fcswils.c
   M /trunk/epan/dissectors/packet-ipfc.c
   M /trunk/epan/dissectors/packet-iscsi.c
   M /trunk/epan/dissectors/packet-llc.c
   M /trunk/epan/dissectors/packet-ndmp.c
   M /trunk/epan/dissectors/packet-scsi-osd.c
   M /trunk/epan/dissectors/packet-scsi.c
   M /trunk/epan/dissectors/packet-scsi.h
   M /trunk/gtk/conversations_fc.c
   M /trunk/gtk/fc_stat.c
   M /trunk/gtk/hostlist_fc.c
   M /trunk/gtk/scsi_stat.c
   M /trunk/tap-iousers.c

move the ITL and the ITLQ structure to packet-scsi.h where it belongs


------------------------------------------------------------------------
r19493 | sahlberg | 2006-10-11 04:32:56 -0700 (Wed, 11 Oct 2006) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fc.c
   M /trunk/epan/dissectors/packet-fcp.c
   M /trunk/epan/dissectors/packet-iscsi.c
   M /trunk/epan/dissectors/packet-ndmp.c
   M /trunk/epan/dissectors/packet-scsi.h

add a task_flags bitmap   and two lengths (data and bidirectional data)
so that the two scsi transports   FCP and ISCSI can provide the expected data transfer lengths to SCSI  to allow SCSI reassembly.

NDMP does not really need these hints since for NDMP (and also iscsi-lite) there is conceptually always both data in and data out phases and there is never any fragmentation.



------------------------------------------------------------------------
r19494 | guy | 2006-10-11 10:01:51 -0700 (Wed, 11 Oct 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ndps.c

Use a different heuristic to determine whether an NDPS string is ASCII
or Unicode, and use tvb_get_ephemeral_faked_unicode() to get Unicode
strings; this fixes problems I've seen in captures, where the string
isn't being processed correctly.

------------------------------------------------------------------------
r19495 | sahlberg | 2006-10-11 13:00:43 -0700 (Wed, 11 Oct 2006) | 12 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-scsi.c

From  Patrick vd Lageweg



Hi,

This patch impelments a dissect for the SCSI SSC Medium Partition Page.


Patrick


------------------------------------------------------------------------
r19496 | sahlberg | 2006-10-11 13:03:44 -0700 (Wed, 11 Oct 2006) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

From  Patrick vd Lageweg

Hi,

This patch fixes the page number user for the "write error couner page".






------------------------------------------------------------------------
r19497 | sahlberg | 2006-10-11 13:05:27 -0700 (Wed, 11 Oct 2006) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

From Patrick vd Lageweg 

Hi,

This patch makes several bit fields in the LOG SELECT command being displayed as bits instead of as numbers.



------------------------------------------------------------------------
r19498 | gerald | 2006-10-11 13:34:05 -0700 (Wed, 11 Oct 2006) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Export the recent prefs changes.

------------------------------------------------------------------------
r19499 | gerald | 2006-10-11 16:25:51 -0700 (Wed, 11 Oct 2006) | 3 lines
Changed paths:
   M /trunk/gtk/graph_analysis.c

When dumping the graph data to a file, don't walk past the end of a buffer.
Should fix bug 396.

------------------------------------------------------------------------
r19500 | gerald | 2006-10-11 16:53:19 -0700 (Wed, 11 Oct 2006) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Update bug lists.

------------------------------------------------------------------------
r19501 | jake | 2006-10-11 23:01:51 -0700 (Wed, 11 Oct 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-udld.c

Adding initial version of UDLD dissector
------------------------------------------------------------------------
r19502 | ulfl | 2006-10-12 00:52:24 -0700 (Thu, 12 Oct 2006) | 1 line
Changed paths:
   M /trunk/docbook/release-notes.xml

The preferences and alike dialog button behaviour changed.
------------------------------------------------------------------------
r19503 | jake | 2006-10-12 01:04:11 -0700 (Thu, 12 Oct 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

From Paolo Abeni:
The attached patch fix parsing of the setup header in the usb dissector.
Currently the size of the field specified into proto_tree_add_item call
was wrong.

------------------------------------------------------------------------
r19504 | jake | 2006-10-12 03:38:24 -0700 (Thu, 12 Oct 2006) | 4 lines
Changed paths:
   M /trunk/doc/README.developer

Cleanup sample code.
Cleanup some text and headings.
Play trick with keyword so text remains untouched.

------------------------------------------------------------------------
r19505 | sahlberg | 2006-10-12 03:54:36 -0700 (Thu, 12 Oct 2006) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fcp.c
   M /trunk/epan/dissectors/packet-iscsi.c
   M /trunk/epan/dissectors/packet-ndmp.c
   M /trunk/epan/dissectors/packet-scsi-osd.c
   M /trunk/epan/dissectors/packet-scsi.h

wireshark does not yet consume enough memory for me to be happy


pass conversation form the transports up to the scsi layer

add tracking of conversation specific info to scsi osd
add tracking of conversation+lun specific info to scsi osd

for scsi osd   add tracking of PARTITIONS and display in which frame they were created/removed



------------------------------------------------------------------------
r19506 | gerald | 2006-10-12 08:00:07 -0700 (Thu, 12 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ndps.c

Check to see if we've passed a null strval to ndps_string().
Should fix the recent fuzz bugs.

------------------------------------------------------------------------
r19507 | lego | 2006-10-12 10:00:11 -0700 (Thu, 12 Oct 2006) | 5 lines
Changed paths:
   M /trunk/epan/wslua/wslua.h
   M /trunk/epan/wslua/wslua_util.c

- add persconffile(opt_str) 
- add datafile_path(opt_str)
- add Dir class -- a Directory Iterator


------------------------------------------------------------------------
r19508 | jake | 2006-10-12 14:31:00 -0700 (Thu, 12 Oct 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-vlan.c

Add 802.1QinQ Ethertype preference.
------------------------------------------------------------------------
r19509 | ulfl | 2006-10-12 17:21:47 -0700 (Thu, 12 Oct 2006) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

distclean should remove wireshark-gtk1/2 dirs completely
------------------------------------------------------------------------
r19510 | sahlberg | 2006-10-13 01:42:33 -0700 (Fri, 13 Oct 2006) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fc.c
   M /trunk/epan/dissectors/packet-fc.h

if FC type is FPC/SCSI and the relative offset bit is set in f_ctl  then the parameter field is 4 bytes and contain the relative offset of the data for data in/out

decode this field as relative offset   and also store it in the fc_hdr structure so that FCP can pick it up and pass if to the SCSI payload data in/out dissector later




------------------------------------------------------------------------
r19511 | sahlberg | 2006-10-13 02:16:45 -0700 (Fri, 13 Oct 2006) | 15 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fcp.c
   M /trunk/epan/dissectors/packet-iscsi.c
   M /trunk/epan/dissectors/packet-ndmp.c
   M /trunk/epan/dissectors/packet-scsi.c
   M /trunk/epan/dissectors/packet-scsi.h

pass the relative data offset of data in/out pdu's to the scsi data in/out dissector (dissect_scsi_payload) so that we can later add reassembly of data pdu's
and also (if reassembly is disabled) only dissect the initial (offset==0) data pdu.

dissect_scsi_payload() does not yet use this parameter.


now that we have both data offset and expected data length/bidir expected data length and also the read/write flags availabe we have what we need to reassemble data in/out pdus    (modulo overflow/underflow  but those are so rare we can worry about them later).


ndmp:   ndmp conceptually always has a data in and a data out phase and never fragment the data into smaller pdu's os that dissector always report offset as 0.





------------------------------------------------------------------------
r19512 | etxrab | 2006-10-13 07:21:02 -0700 (Fri, 13 Oct 2006) | 1 line
Changed paths:
   M /trunk/plugins/megaco/packet-megaco.c

Modify Signals descriptor to look more like the actual text message.
------------------------------------------------------------------------
r19513 | jmayer | 2006-10-13 08:18:10 -0700 (Fri, 13 Oct 2006) | 6 lines
Changed paths:
   M /trunk/wiretap/libpcap.c

Paolo Abeni:
the attached patch add support for the recently introduced pcap
bluetooth data link type. Yes, pcap is going to support also bluetooth
devices (at least on Linux) :-)


------------------------------------------------------------------------
r19514 | gerald | 2006-10-13 08:53:20 -0700 (Fri, 13 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Make the "WEP key count" option match the number of WEP key slots.  Add
a note about improving the WEP key interface.

------------------------------------------------------------------------
r19515 | etxrab | 2006-10-13 10:04:16 -0700 (Fri, 13 Oct 2006) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h248_3gpp.c
   M /trunk/epan/dissectors/packet-h248_annex_c.c

Set properties.
------------------------------------------------------------------------
r19516 | ulfl | 2006-10-13 11:19:42 -0700 (Fri, 13 Oct 2006) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

remove the experimental display of the highest expert level in the statusbar for now.

as long as we haven't solved that TCP checksum offload problems causing checksum errors all the time, this will display the error level for almost every capture done on a local machine - rendering this display pretty useless in it's current form.
------------------------------------------------------------------------
r19517 | sahlberg | 2006-10-13 14:07:07 -0700 (Fri, 13 Oct 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

dont call the scsi data in/out dissectors unless data offset is 0   i.e. the beginning of data in/out



------------------------------------------------------------------------
r19518 | sahlberg | 2006-10-13 14:26:03 -0700 (Fri, 13 Oct 2006) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

check the estinated data transfer length for the current transfer  and start adding checks for scsi data reassembly



------------------------------------------------------------------------
r19519 | sahlberg | 2006-10-13 15:25:35 -0700 (Fri, 13 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

add scsi data reassembly


------------------------------------------------------------------------
r19520 | ulfl | 2006-10-13 17:22:36 -0700 (Fri, 13 Oct 2006) | 1 line
Changed paths:
   M /trunk/gtk/color_edit_dlg.c

as Stephen Fisher noted: fix the files header comment
------------------------------------------------------------------------
r19521 | gerald | 2006-10-13 17:27:50 -0700 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/packaging/u3/win32/README.txt
   M /trunk/packaging/u3/win32/makefile.nmake
   M /trunk/packaging/u3/win32/manifest.tmpl
   M /trunk/packaging/u3/win32/u3util.c

Set SVN properties.

------------------------------------------------------------------------
r19522 | gerald | 2006-10-13 17:31:35 -0700 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/docbook/release-notes.xml

Release note and changelog updates.

------------------------------------------------------------------------
r19523 | sahlberg | 2006-10-13 18:44:29 -0700 (Fri, 13 Oct 2006) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

let SCSI reassembly default to FALSE

put "reassembled in" in the summary line

put the fragment list at the top of the tree instead of down inside the SCSI expansion



------------------------------------------------------------------------
r19524 | sahlberg | 2006-10-13 22:02:40 -0700 (Fri, 13 Oct 2006) | 6 lines
Changed paths:
   M /trunk/epan/address.h
   M /trunk/epan/dissectors/packet-usb.c
   M /trunk/epan/to_str.c

create a new address type AT_USB and start populating the packet list 
with nice data




------------------------------------------------------------------------
r19525 | sahlberg | 2006-10-14 02:18:24 -0700 (Sat, 14 Oct 2006) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ndmp.c

set both read/write flags in ndmp scsi   and also always set the expected length to whatever length is transported inside the ndmp pdu

this fixes a regression caused by the recent scsi data in/out reassembly code which made the scsi dissector fail to dissect data in/out over ndmp correctly if scsi reassembly was enabled



------------------------------------------------------------------------
r19526 | sahlberg | 2006-10-14 02:43:17 -0700 (Sat, 14 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

put the packet type in the summary line


------------------------------------------------------------------------
r19527 | sahlberg | 2006-10-14 03:09:32 -0700 (Sat, 14 Oct 2006) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

rename some fields in the setup blob to use the same names as in the standard


add dissection of the bmRequestType bitmap



------------------------------------------------------------------------
r19528 | sahlberg | 2006-10-14 03:52:50 -0700 (Sat, 14 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

implement WRITE and CREATE COLLECTION


------------------------------------------------------------------------
r19529 | sahlberg | 2006-10-14 04:25:38 -0700 (Sat, 14 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

add dissection of FLUSH and FLUSH COLLECTION


------------------------------------------------------------------------
r19530 | etxrab | 2006-10-14 07:13:00 -0700 (Sat, 14 Oct 2006) | 1 line
Changed paths:
   M /trunk/plugins/megaco/packet-megaco.c

Dissect observedeventsdescriptor more like the actual text.
------------------------------------------------------------------------
r19531 | jake | 2006-10-14 12:00:31 -0700 (Sat, 14 Oct 2006) | 1 line
Changed paths:
   M /trunk/doc/README.developer

Update FSF address in code template
------------------------------------------------------------------------
r19532 | guy | 2006-10-14 13:17:14 -0700 (Sat, 14 Oct 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

Do the suboption processing in dissect_netware_ip_suboption() a bit more
like the way it's done in other suboption dissectors.

Fix a typo.

------------------------------------------------------------------------
r19533 | guy | 2006-10-14 13:18:10 -0700 (Sat, 14 Oct 2006) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h248_annex_e.c

Fix a compiler warning by doing what I suspect was intended.

------------------------------------------------------------------------
r19534 | sahlberg | 2006-10-14 15:05:57 -0700 (Sat, 14 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

if reassembly did not give us a new tvb,  then dont call any scsi payload subdissector


------------------------------------------------------------------------
r19535 | sahlberg | 2006-10-14 15:31:27 -0700 (Sat, 14 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

dissect some more osd service actions


------------------------------------------------------------------------
r19536 | sahlberg | 2006-10-14 15:45:07 -0700 (Sat, 14 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

some more service actions


------------------------------------------------------------------------
r19537 | sahlberg | 2006-10-14 19:54:08 -0700 (Sat, 14 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-osd.c

more serviceactions


------------------------------------------------------------------------
r19538 | sahlberg | 2006-10-14 20:49:27 -0700 (Sat, 14 Oct 2006) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

start dissecting the setup headers

dissect GET DESCRIPTOR as an example on how to add such dissectors


------------------------------------------------------------------------
r19539 | sahlberg | 2006-10-14 23:10:59 -0700 (Sat, 14 Oct 2006) | 8 lines
Changed paths:
   M /trunk/epan/address.h
   M /trunk/epan/column-utils.c
   M /trunk/epan/dissectors/packet-usb.c

add a new port type for usb endpoints


start introducing conversations to the usb dissector so that we can start tracking requests/responses
which we need to in order to dissect for example the data returned by a device to a GET DESCRIPTORS call



------------------------------------------------------------------------
r19540 | sahlberg | 2006-10-15 01:12:41 -0700 (Sun, 15 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

add tracking of request/responses for CONTROL INPUT so we can start passing parameters from request to response and dissect response data


------------------------------------------------------------------------
r19541 | sahlberg | 2006-10-15 01:21:56 -0700 (Sun, 15 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

populate the info column with the request type and whetehr it is a request or a response


------------------------------------------------------------------------
r19542 | jmayer | 2006-10-15 05:27:51 -0700 (Sun, 15 Oct 2006) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

- gcc dies on "default: }", add a ;
- proto_register usb instead of eth.

------------------------------------------------------------------------
r19543 | etxrab | 2006-10-15 09:06:02 -0700 (Sun, 15 Oct 2006) | 1 line
Changed paths:
   M /trunk/asn1/h248/Makefile.nmake
   M /trunk/asn1/h248/h248.cnf
   M /trunk/asn1/h248/h248v3.asn
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-h248.h
   M /trunk/epan/dissectors/packet-h248_annex_e.c

Upadte to H.248 V3 and add some annex E parameters.
------------------------------------------------------------------------
r19544 | etxrab | 2006-10-15 15:11:26 -0700 (Sun, 15 Oct 2006) | 2 lines
Changed paths:
   M /trunk/asn1/h248/h248v3.asn
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-h248_annex_e.c
   M /trunk/epan/dissectors/packet-isup.c

Fix Event dissection which was broken when going to V3.
and add a few parameters.
------------------------------------------------------------------------
r19545 | ulfl | 2006-10-15 15:42:22 -0700 (Sun, 15 Oct 2006) | 1 line
Changed paths:
   M /trunk/doc/README.developer

add a prerequisites section and some minor changes
------------------------------------------------------------------------
r19546 | ulfl | 2006-10-15 15:57:31 -0700 (Sun, 15 Oct 2006) | 1 line
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_env_intro.xml

move the README files before the source code, they are more important
------------------------------------------------------------------------
r19547 | ulfl | 2006-10-15 18:43:04 -0700 (Sun, 15 Oct 2006) | 1 line
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_env_intro.xml

be more specific about the README.developer file
------------------------------------------------------------------------
r19548 | ulfl | 2006-10-15 18:48:16 -0700 (Sun, 15 Oct 2006) | 3 lines
Changed paths:
   M /trunk/README.win32
   M /trunk/docbook/wsdg_src/WSDG_chapter_libraries.xml
   M /trunk/docbook/wsdg_src/WSDG_chapter_sources.xml

deleted lot's of irrelevant/outdated content from README.win32.

move content from the README.win32 file into the wsdg. I've moved the cygwin GCC info to a new Wiki page, it seems more promissing that it's getting updated in the future.
------------------------------------------------------------------------
r19549 | ulfl | 2006-10-15 19:37:06 -0700 (Sun, 15 Oct 2006) | 1 line
Changed paths:
   M /trunk/doc/README.developer
   A /trunk/doc/README.display_filter

split the display filter engine doc into it's own file
------------------------------------------------------------------------
r19550 | ulfl | 2006-10-15 20:23:43 -0700 (Sun, 15 Oct 2006) | 1 line
Changed paths:
   M /trunk/doc/README.binarytrees

fix a typo
------------------------------------------------------------------------
r19551 | ulfl | 2006-10-15 20:25:50 -0700 (Sun, 15 Oct 2006) | 4 lines
Changed paths:
   M /trunk/doc/README.developer

- some more cleanup
- mention the other README files
- encode some @ chars to [AT] in mail addresses

------------------------------------------------------------------------
